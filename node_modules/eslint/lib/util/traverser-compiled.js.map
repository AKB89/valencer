{"version":3,"sources":["traverser.js"],"names":[],"mappings":";;;;AAIA;;;;;;AAMA,IAAI,aAAa,QAAQ,YAAR,CAAjB;;;;;;AAMA,IAAI,gBAAgB,CAChB,QADgB,EAEhB,iBAFgB,EAGhB,kBAHgB,CAApB;;;;;;;AAWA,SAAS,SAAT,GAAqB;;AAEjB,QAAI,aAAa,OAAO,MAAP,CAAc,IAAI,WAAW,UAAf,EAAd,CAAjB;QACI,mBAAmB,WAAW,QADlC;;;AAIA,eAAW,QAAX,GAAsB,UAAS,IAAT,EAAe,OAAf,EAAwB;AAC1C,gBAAQ,QAAR,GAAmB,UAAU,OAA7B;AACA,eAAO,iBAAiB,IAAjB,CAAsB,IAAtB,EAA4B,IAA5B,EAAkC,OAAlC,CAAP;AACH,KAHD;;AAKA,WAAO,UAAP;AACH;;;;;;;;AAQD,UAAU,OAAV,GAAoB,UAAS,IAAT,EAAe;AAC/B,WAAO,OAAO,IAAP,CAAY,IAAZ,EAAkB,MAAlB,CAAyB,UAAS,GAAT,EAAc;AAC1C,eAAO,cAAc,OAAd,CAAsB,GAAtB,MAA+B,CAAC,CAAvC;AACH,KAFM,CAAP;AAGH,CAJD;;AAMA,OAAO,OAAP,GAAiB,SAAjB","file":"traverser-compiled.js","sourcesContent":["/**\n * @fileoverview Wrapper around estraverse\n * @author Nicholas C. Zakas\n */\n\"use strict\";\n\n//------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\n\nvar estraverse = require(\"estraverse\");\n\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\nvar KEY_BLACKLIST = [\n    \"parent\",\n    \"leadingComments\",\n    \"trailingComments\"\n];\n\n/**\n * Wrapper around an estraverse controller that ensures the correct keys\n * are visited.\n * @constructor\n */\nfunction Traverser() {\n\n    var controller = Object.create(new estraverse.Controller()),\n        originalTraverse = controller.traverse;\n\n    // intercept call to traverse() and add the fallback key to the visitor\n    controller.traverse = function(node, visitor) {\n        visitor.fallback = Traverser.getKeys;\n        return originalTraverse.call(this, node, visitor);\n    };\n\n    return controller;\n}\n\n/**\n * Calculates the keys to use for traversal.\n * @param {ASTNode} node The node to read keys from.\n * @returns {string[]} An array of keys to visit on the node.\n * @private\n */\nTraverser.getKeys = function(node) {\n    return Object.keys(node).filter(function(key) {\n        return KEY_BLACKLIST.indexOf(key) === -1;\n    });\n};\n\nmodule.exports = Traverser;\n\n\n"]}