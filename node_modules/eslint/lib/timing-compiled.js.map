{"version":3,"sources":["timing.js"],"names":[],"mappings":"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","file":"timing-compiled.js","sourcesContent":["/**\n * @fileoverview Tracks performance of individual rules.\n * @author Brandon Mills\n */\n\n\"use strict\";\n\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n/* istanbul ignore next */\n/**\n * Align the string to left\n * @param {string} str string to evaluate\n * @param {int} len length of the string\n * @param {string} ch delimiter character\n * @returns {string} modified string\n * @private\n */\nfunction alignLeft(str, len, ch) {\n    return str + new Array(len - str.length + 1).join(ch || \" \");\n}\n\n/* istanbul ignore next */\n/**\n * Align the string to right\n * @param {string} str string to evaluate\n * @param {int} len length of the string\n * @param {string} ch delimiter character\n * @returns {string} modified string\n * @private\n */\nfunction alignRight(str, len, ch) {\n    return new Array(len - str.length + 1).join(ch || \" \") + str;\n}\n\n//------------------------------------------------------------------------------\n// Module definition\n//------------------------------------------------------------------------------\n\nvar enabled = !!process.env.TIMING;\n\nvar HEADERS = [\"Rule\", \"Time (ms)\", \"Relative\"];\nvar ALIGN = [alignLeft, alignRight, alignRight];\n\n/* istanbul ignore next */\n/**\n * display the data\n * @param {object} data Data object to be displayed\n * @returns {string} modified string\n * @private\n */\nfunction display(data) {\n    var total = 0;\n    var rows = Object.keys(data)\n        .map(function(key) {\n            var time = data[key];\n\n            total += time;\n            return [key, time];\n        })\n        .sort(function(a, b) {\n            return b[1] - a[1];\n        })\n        .slice(0, 10);\n\n    rows.forEach(function(row) {\n        row.push((row[1] * 100 / total).toFixed(1) + \"%\");\n        row[1] = row[1].toFixed(3);\n    });\n\n    rows.unshift(HEADERS);\n\n    var widths = [];\n\n    rows.forEach(function(row) {\n        var len = row.length,\n            i,\n            n;\n\n        for (i = 0; i < len; i++) {\n            n = row[i].length;\n            if (!widths[i] || n > widths[i]) {\n                widths[i] = n;\n            }\n        }\n    });\n\n    var table = rows.map(function(row) {\n        return row.map(function(cell, index) {\n            return ALIGN[index](cell, widths[index]);\n        }).join(\" | \");\n    });\n\n    table.splice(1, 0, widths.map(function(w, index) {\n        if (index !== 0 && index !== widths.length - 1) {\n            w++;\n        }\n\n        return ALIGN[index](\":\", w + 1, \"-\");\n    }).join(\"|\"));\n\n    console.log(table.join(\"\\n\"));      // eslint-disable-line no-console\n}\n\n/* istanbul ignore next */\nmodule.exports = (function() {\n\n    var data = Object.create(null);\n\n    /**\n     * Time the run\n     * @param {*} key key from the data object\n     * @param {Function} fn function to be called\n     * @returns {Function} function to be executed\n     * @private\n     */\n    function time(key, fn) {\n        if (typeof data[key] === \"undefined\") {\n            data[key] = 0;\n        }\n\n        return function() {\n            var t = process.hrtime();\n\n            fn.apply(null, Array.prototype.slice.call(arguments));\n            t = process.hrtime(t);\n            data[key] += t[0] * 1e3 + t[1] / 1e6;\n        };\n    }\n\n    if (enabled) {\n        process.on(\"exit\", function() {\n            display(data);\n        });\n    }\n\n    return {\n        time: time,\n        enabled: enabled\n    };\n\n}());\n"]}