{"version":3,"sources":["makeStreamConfig.js"],"names":[],"mappings":"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","file":"makeStreamConfig-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _cloneDeep2 = require('lodash/cloneDeep');\n\nvar _cloneDeep3 = _interopRequireDefault(_cloneDeep2);\n\nvar _isUndefined2 = require('lodash/isUndefined');\n\nvar _isUndefined3 = _interopRequireDefault(_isUndefined2);\n\nvar _times2 = require('lodash/times');\n\nvar _times3 = _interopRequireDefault(_times2);\n\nvar _assign2 = require('lodash/assign');\n\nvar _assign3 = _interopRequireDefault(_assign2);\n\nvar _getBorderCharacters = require('./getBorderCharacters');\n\nvar _getBorderCharacters2 = _interopRequireDefault(_getBorderCharacters);\n\nvar _validateStreamConfig = require('./validateStreamConfig');\n\nvar _validateStreamConfig2 = _interopRequireDefault(_validateStreamConfig);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar makeBorder = undefined,\n    makeColumns = undefined;\n\n/**\n * Merges user provided border characters with the default border (\"honeywell\") characters.\n *\n * @param {Object} border\n * @returns {Object}\n */\nmakeBorder = function makeBorder() {\n    var border = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    return (0, _assign3.default)({}, (0, _getBorderCharacters2.default)('honeywell'), border);\n};\n\n/**\n * Creates a configuration for every column using default\n * values for the missing configuration properties.\n *\n * @param {number} columnCount\n * @param {Object} columns\n * @param {Object} columnDefault\n * @returns {Object}\n */\nmakeColumns = function makeColumns(columnCount) {\n    var columns = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var columnDefault = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    (0, _times3.default)(columnCount, function (index) {\n        if ((0, _isUndefined3.default)(columns[index])) {\n            columns[index] = {};\n        }\n\n        columns[index] = (0, _assign3.default)({\n            alignment: 'left',\n            // width: columnDefault.width,\n            wrapWord: false,\n            truncate: Infinity,\n            paddingLeft: 1,\n            paddingRight: 1\n        }, columnDefault, columns[index]);\n    });\n\n    return columns;\n};\n\n/**\n * @typedef {Object} columnConfig\n * @property {string} alignment\n * @property {number} width\n * @property {number} truncate\n * @property {number} paddingLeft\n * @property {number} paddingRight\n */\n\n/**\n * @typedef {Object} streamConfig\n * @property {columnConfig} columnDefault\n * @property {Object} border\n * @property {columnConfig[]}\n * @property {number} columnCount Number of columns in the table (required).\n */\n\n/**\n * Makes a new configuration object out of the userConfig object\n * using default values for the missing configuration properties.\n *\n * @param {streamConfig} userConfig\n * @returns {Object}\n */\n\nexports.default = function () {\n    var userConfig = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var config = undefined;\n\n    (0, _validateStreamConfig2.default)(userConfig);\n\n    config = (0, _cloneDeep3.default)(userConfig);\n\n    if (!config.columnDefault || !config.columnDefault.width) {\n        throw new Error('Must provide config.columnDefault.width when creating a stream.');\n    }\n\n    if (!config.columnCount) {\n        throw new Error('Must provide config.columnCount.');\n    }\n\n    config.border = makeBorder(config.border);\n    config.columns = makeColumns(config.columnCount, config.columns, config.columnDefault);\n\n    return config;\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=makeStreamConfig.js.map\n"]}