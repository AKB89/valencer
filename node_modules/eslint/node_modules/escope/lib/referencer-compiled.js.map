{"version":3,"sources":["referencer.js"],"names":[],"mappings":"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","file":"referencer-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _estraverse = require('estraverse');\n\nvar _esrecurse = require('esrecurse');\n\nvar _esrecurse2 = _interopRequireDefault(_esrecurse);\n\nvar _reference = require('./reference');\n\nvar _reference2 = _interopRequireDefault(_reference);\n\nvar _variable = require('./variable');\n\nvar _variable2 = _interopRequireDefault(_variable);\n\nvar _patternVisitor = require('./pattern-visitor');\n\nvar _patternVisitor2 = _interopRequireDefault(_patternVisitor);\n\nvar _definition = require('./definition');\n\nvar _assert = require('assert');\n\nvar _assert2 = _interopRequireDefault(_assert);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Copyright (C) 2015 Yusuke Suzuki <utatane.tea@gmail.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Redistribution and use in source and binary forms, with or without\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 modification, are permitted provided that the following conditions are met:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Redistributions of source code must retain the above copyright\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     notice, this list of conditions and the following disclaimer.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Redistributions in binary form must reproduce the above copyright\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     notice, this list of conditions and the following disclaimer in the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     documentation and/or other materials provided with the distribution.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */\n\n\nfunction traverseIdentifierInPattern(options, rootPattern, referencer, callback) {\n    // Call the callback at left hand identifier nodes, and Collect right hand nodes.\n    var visitor = new _patternVisitor2.default(options, rootPattern, callback);\n    visitor.visit(rootPattern);\n\n    // Process the right hand nodes recursively.\n    if (referencer != null) {\n        visitor.rightHandNodes.forEach(referencer.visit, referencer);\n    }\n}\n\n// Importing ImportDeclaration.\n// http://people.mozilla.org/~jorendorff/es6-draft.html#sec-moduledeclarationinstantiation\n// https://github.com/estree/estree/blob/master/es6.md#importdeclaration\n// FIXME: Now, we don't create module environment, because the context is\n// implementation dependent.\n\nvar Importer = function (_esrecurse$Visitor) {\n    _inherits(Importer, _esrecurse$Visitor);\n\n    function Importer(declaration, referencer) {\n        _classCallCheck(this, Importer);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Importer).call(this, null, referencer.options));\n\n        _this.declaration = declaration;\n        _this.referencer = referencer;\n        return _this;\n    }\n\n    _createClass(Importer, [{\n        key: 'visitImport',\n        value: function visitImport(id, specifier) {\n            var _this2 = this;\n\n            this.referencer.visitPattern(id, function (pattern) {\n                _this2.referencer.currentScope().__define(pattern, new _definition.Definition(_variable2.default.ImportBinding, pattern, specifier, _this2.declaration, null, null));\n            });\n        }\n    }, {\n        key: 'ImportNamespaceSpecifier',\n        value: function ImportNamespaceSpecifier(node) {\n            var local = node.local || node.id;\n            if (local) {\n                this.visitImport(local, node);\n            }\n        }\n    }, {\n        key: 'ImportDefaultSpecifier',\n        value: function ImportDefaultSpecifier(node) {\n            var local = node.local || node.id;\n            this.visitImport(local, node);\n        }\n    }, {\n        key: 'ImportSpecifier',\n        value: function ImportSpecifier(node) {\n            var local = node.local || node.id;\n            if (node.name) {\n                this.visitImport(node.name, node);\n            } else {\n                this.visitImport(local, node);\n            }\n        }\n    }]);\n\n    return Importer;\n}(_esrecurse2.default.Visitor);\n\n// Referencing variables and creating bindings.\n\n\nvar Referencer = function (_esrecurse$Visitor2) {\n    _inherits(Referencer, _esrecurse$Visitor2);\n\n    function Referencer(options, scopeManager) {\n        _classCallCheck(this, Referencer);\n\n        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(Referencer).call(this, null, options));\n\n        _this3.options = options;\n        _this3.scopeManager = scopeManager;\n        _this3.parent = null;\n        _this3.isInnerMethodDefinition = false;\n        return _this3;\n    }\n\n    _createClass(Referencer, [{\n        key: 'currentScope',\n        value: function currentScope() {\n            return this.scopeManager.__currentScope;\n        }\n    }, {\n        key: 'close',\n        value: function close(node) {\n            while (this.currentScope() && node === this.currentScope().block) {\n                this.scopeManager.__currentScope = this.currentScope().__close(this.scopeManager);\n            }\n        }\n    }, {\n        key: 'pushInnerMethodDefinition',\n        value: function pushInnerMethodDefinition(isInnerMethodDefinition) {\n            var previous = this.isInnerMethodDefinition;\n            this.isInnerMethodDefinition = isInnerMethodDefinition;\n            return previous;\n        }\n    }, {\n        key: 'popInnerMethodDefinition',\n        value: function popInnerMethodDefinition(isInnerMethodDefinition) {\n            this.isInnerMethodDefinition = isInnerMethodDefinition;\n        }\n    }, {\n        key: 'materializeTDZScope',\n        value: function materializeTDZScope(node, iterationNode) {\n            // http://people.mozilla.org/~jorendorff/es6-draft.html#sec-runtime-semantics-forin-div-ofexpressionevaluation-abstract-operation\n            // TDZ scope hides the declaration's names.\n            this.scopeManager.__nestTDZScope(node, iterationNode);\n            this.visitVariableDeclaration(this.currentScope(), _variable2.default.TDZ, iterationNode.left, 0, true);\n        }\n    }, {\n        key: 'materializeIterationScope',\n        value: function materializeIterationScope(node) {\n            var _this4 = this;\n\n            // Generate iteration scope for upper ForIn/ForOf Statements.\n            var letOrConstDecl;\n            this.scopeManager.__nestForScope(node);\n            letOrConstDecl = node.left;\n            this.visitVariableDeclaration(this.currentScope(), _variable2.default.Variable, letOrConstDecl, 0);\n            this.visitPattern(letOrConstDecl.declarations[0].id, function (pattern) {\n                _this4.currentScope().__referencing(pattern, _reference2.default.WRITE, node.right, null, true, true);\n            });\n        }\n    }, {\n        key: 'referencingDefaultValue',\n        value: function referencingDefaultValue(pattern, assignments, maybeImplicitGlobal, init) {\n            var scope = this.currentScope();\n            assignments.forEach(function (assignment) {\n                scope.__referencing(pattern, _reference2.default.WRITE, assignment.right, maybeImplicitGlobal, pattern !== assignment.left, init);\n            });\n        }\n    }, {\n        key: 'visitPattern',\n        value: function visitPattern(node, options, callback) {\n            if (typeof options === 'function') {\n                callback = options;\n                options = { processRightHandNodes: false };\n            }\n            traverseIdentifierInPattern(this.options, node, options.processRightHandNodes ? this : null, callback);\n        }\n    }, {\n        key: 'visitFunction',\n        value: function visitFunction(node) {\n            var _this5 = this;\n\n            var i, iz;\n            // FunctionDeclaration name is defined in upper scope\n            // NOTE: Not referring variableScope. It is intended.\n            // Since\n            //  in ES5, FunctionDeclaration should be in FunctionBody.\n            //  in ES6, FunctionDeclaration should be block scoped.\n            if (node.type === _estraverse.Syntax.FunctionDeclaration) {\n                // id is defined in upper scope\n                this.currentScope().__define(node.id, new _definition.Definition(_variable2.default.FunctionName, node.id, node, null, null, null));\n            }\n\n            // FunctionExpression with name creates its special scope;\n            // FunctionExpressionNameScope.\n            if (node.type === _estraverse.Syntax.FunctionExpression && node.id) {\n                this.scopeManager.__nestFunctionExpressionNameScope(node);\n            }\n\n            // Consider this function is in the MethodDefinition.\n            this.scopeManager.__nestFunctionScope(node, this.isInnerMethodDefinition);\n\n            // Process parameter declarations.\n            for (i = 0, iz = node.params.length; i < iz; ++i) {\n                this.visitPattern(node.params[i], { processRightHandNodes: true }, function (pattern, info) {\n                    _this5.currentScope().__define(pattern, new _definition.ParameterDefinition(pattern, node, i, info.rest));\n\n                    _this5.referencingDefaultValue(pattern, info.assignments, null, true);\n                });\n            }\n\n            // if there's a rest argument, add that\n            if (node.rest) {\n                this.visitPattern({\n                    type: 'RestElement',\n                    argument: node.rest\n                }, function (pattern) {\n                    _this5.currentScope().__define(pattern, new _definition.ParameterDefinition(pattern, node, node.params.length, true));\n                });\n            }\n\n            // Skip BlockStatement to prevent creating BlockStatement scope.\n            if (node.body.type === _estraverse.Syntax.BlockStatement) {\n                this.visitChildren(node.body);\n            } else {\n                this.visit(node.body);\n            }\n\n            this.close(node);\n        }\n    }, {\n        key: 'visitClass',\n        value: function visitClass(node) {\n            if (node.type === _estraverse.Syntax.ClassDeclaration) {\n                this.currentScope().__define(node.id, new _definition.Definition(_variable2.default.ClassName, node.id, node, null, null, null));\n            }\n\n            // FIXME: Maybe consider TDZ.\n            this.visit(node.superClass);\n\n            this.scopeManager.__nestClassScope(node);\n\n            if (node.id) {\n                this.currentScope().__define(node.id, new _definition.Definition(_variable2.default.ClassName, node.id, node));\n            }\n            this.visit(node.body);\n\n            this.close(node);\n        }\n    }, {\n        key: 'visitProperty',\n        value: function visitProperty(node) {\n            var previous, isMethodDefinition;\n            if (node.computed) {\n                this.visit(node.key);\n            }\n\n            isMethodDefinition = node.type === _estraverse.Syntax.MethodDefinition;\n            if (isMethodDefinition) {\n                previous = this.pushInnerMethodDefinition(true);\n            }\n            this.visit(node.value);\n            if (isMethodDefinition) {\n                this.popInnerMethodDefinition(previous);\n            }\n        }\n    }, {\n        key: 'visitForIn',\n        value: function visitForIn(node) {\n            var _this6 = this;\n\n            if (node.left.type === _estraverse.Syntax.VariableDeclaration && node.left.kind !== 'var') {\n                this.materializeTDZScope(node.right, node);\n                this.visit(node.right);\n                this.close(node.right);\n\n                this.materializeIterationScope(node);\n                this.visit(node.body);\n                this.close(node);\n            } else {\n                if (node.left.type === _estraverse.Syntax.VariableDeclaration) {\n                    this.visit(node.left);\n                    this.visitPattern(node.left.declarations[0].id, function (pattern) {\n                        _this6.currentScope().__referencing(pattern, _reference2.default.WRITE, node.right, null, true, true);\n                    });\n                } else {\n                    this.visitPattern(node.left, { processRightHandNodes: true }, function (pattern, info) {\n                        var maybeImplicitGlobal = null;\n                        if (!_this6.currentScope().isStrict) {\n                            maybeImplicitGlobal = {\n                                pattern: pattern,\n                                node: node\n                            };\n                        }\n                        _this6.referencingDefaultValue(pattern, info.assignments, maybeImplicitGlobal, false);\n                        _this6.currentScope().__referencing(pattern, _reference2.default.WRITE, node.right, maybeImplicitGlobal, true, false);\n                    });\n                }\n                this.visit(node.right);\n                this.visit(node.body);\n            }\n        }\n    }, {\n        key: 'visitVariableDeclaration',\n        value: function visitVariableDeclaration(variableTargetScope, type, node, index, fromTDZ) {\n            var _this7 = this;\n\n            // If this was called to initialize a TDZ scope, this needs to make definitions, but doesn't make references.\n            var decl, init;\n\n            decl = node.declarations[index];\n            init = decl.init;\n            this.visitPattern(decl.id, { processRightHandNodes: !fromTDZ }, function (pattern, info) {\n                variableTargetScope.__define(pattern, new _definition.Definition(type, pattern, decl, node, index, node.kind));\n\n                if (!fromTDZ) {\n                    _this7.referencingDefaultValue(pattern, info.assignments, null, true);\n                }\n                if (init) {\n                    _this7.currentScope().__referencing(pattern, _reference2.default.WRITE, init, null, !info.topLevel, true);\n                }\n            });\n        }\n    }, {\n        key: 'AssignmentExpression',\n        value: function AssignmentExpression(node) {\n            var _this8 = this;\n\n            if (_patternVisitor2.default.isPattern(node.left)) {\n                if (node.operator === '=') {\n                    this.visitPattern(node.left, { processRightHandNodes: true }, function (pattern, info) {\n                        var maybeImplicitGlobal = null;\n                        if (!_this8.currentScope().isStrict) {\n                            maybeImplicitGlobal = {\n                                pattern: pattern,\n                                node: node\n                            };\n                        }\n                        _this8.referencingDefaultValue(pattern, info.assignments, maybeImplicitGlobal, false);\n                        _this8.currentScope().__referencing(pattern, _reference2.default.WRITE, node.right, maybeImplicitGlobal, !info.topLevel, false);\n                    });\n                } else {\n                    this.currentScope().__referencing(node.left, _reference2.default.RW, node.right);\n                }\n            } else {\n                this.visit(node.left);\n            }\n            this.visit(node.right);\n        }\n    }, {\n        key: 'CatchClause',\n        value: function CatchClause(node) {\n            var _this9 = this;\n\n            this.scopeManager.__nestCatchScope(node);\n\n            this.visitPattern(node.param, { processRightHandNodes: true }, function (pattern, info) {\n                _this9.currentScope().__define(pattern, new _definition.Definition(_variable2.default.CatchClause, node.param, node, null, null, null));\n                _this9.referencingDefaultValue(pattern, info.assignments, null, true);\n            });\n            this.visit(node.body);\n\n            this.close(node);\n        }\n    }, {\n        key: 'Program',\n        value: function Program(node) {\n            this.scopeManager.__nestGlobalScope(node);\n\n            if (this.scopeManager.__isNodejsScope()) {\n                // Force strictness of GlobalScope to false when using node.js scope.\n                this.currentScope().isStrict = false;\n                this.scopeManager.__nestFunctionScope(node, false);\n            }\n\n            if (this.scopeManager.__isES6() && this.scopeManager.isModule()) {\n                this.scopeManager.__nestModuleScope(node);\n            }\n\n            if (this.scopeManager.isStrictModeSupported() && this.scopeManager.isImpliedStrict()) {\n                this.currentScope().isStrict = true;\n            }\n\n            this.visitChildren(node);\n            this.close(node);\n        }\n    }, {\n        key: 'Identifier',\n        value: function Identifier(node) {\n            this.currentScope().__referencing(node);\n        }\n    }, {\n        key: 'UpdateExpression',\n        value: function UpdateExpression(node) {\n            if (_patternVisitor2.default.isPattern(node.argument)) {\n                this.currentScope().__referencing(node.argument, _reference2.default.RW, null);\n            } else {\n                this.visitChildren(node);\n            }\n        }\n    }, {\n        key: 'MemberExpression',\n        value: function MemberExpression(node) {\n            this.visit(node.object);\n            if (node.computed) {\n                this.visit(node.property);\n            }\n        }\n    }, {\n        key: 'Property',\n        value: function Property(node) {\n            this.visitProperty(node);\n        }\n    }, {\n        key: 'MethodDefinition',\n        value: function MethodDefinition(node) {\n            this.visitProperty(node);\n        }\n    }, {\n        key: 'BreakStatement',\n        value: function BreakStatement() {}\n    }, {\n        key: 'ContinueStatement',\n        value: function ContinueStatement() {}\n    }, {\n        key: 'LabeledStatement',\n        value: function LabeledStatement(node) {\n            this.visit(node.body);\n        }\n    }, {\n        key: 'ForStatement',\n        value: function ForStatement(node) {\n            // Create ForStatement declaration.\n            // NOTE: In ES6, ForStatement dynamically generates\n            // per iteration environment. However, escope is\n            // a static analyzer, we only generate one scope for ForStatement.\n            if (node.init && node.init.type === _estraverse.Syntax.VariableDeclaration && node.init.kind !== 'var') {\n                this.scopeManager.__nestForScope(node);\n            }\n\n            this.visitChildren(node);\n\n            this.close(node);\n        }\n    }, {\n        key: 'ClassExpression',\n        value: function ClassExpression(node) {\n            this.visitClass(node);\n        }\n    }, {\n        key: 'ClassDeclaration',\n        value: function ClassDeclaration(node) {\n            this.visitClass(node);\n        }\n    }, {\n        key: 'CallExpression',\n        value: function CallExpression(node) {\n            // Check this is direct call to eval\n            if (!this.scopeManager.__ignoreEval() && node.callee.type === _estraverse.Syntax.Identifier && node.callee.name === 'eval') {\n                // NOTE: This should be `variableScope`. Since direct eval call always creates Lexical environment and\n                // let / const should be enclosed into it. Only VariableDeclaration affects on the caller's environment.\n                this.currentScope().variableScope.__detectEval();\n            }\n            this.visitChildren(node);\n        }\n    }, {\n        key: 'BlockStatement',\n        value: function BlockStatement(node) {\n            if (this.scopeManager.__isES6()) {\n                this.scopeManager.__nestBlockScope(node);\n            }\n\n            this.visitChildren(node);\n\n            this.close(node);\n        }\n    }, {\n        key: 'ThisExpression',\n        value: function ThisExpression() {\n            this.currentScope().variableScope.__detectThis();\n        }\n    }, {\n        key: 'WithStatement',\n        value: function WithStatement(node) {\n            this.visit(node.object);\n            // Then nest scope for WithStatement.\n            this.scopeManager.__nestWithScope(node);\n\n            this.visit(node.body);\n\n            this.close(node);\n        }\n    }, {\n        key: 'VariableDeclaration',\n        value: function VariableDeclaration(node) {\n            var variableTargetScope, i, iz, decl;\n            variableTargetScope = node.kind === 'var' ? this.currentScope().variableScope : this.currentScope();\n            for (i = 0, iz = node.declarations.length; i < iz; ++i) {\n                decl = node.declarations[i];\n                this.visitVariableDeclaration(variableTargetScope, _variable2.default.Variable, node, i);\n                if (decl.init) {\n                    this.visit(decl.init);\n                }\n            }\n        }\n\n        // sec 13.11.8\n\n    }, {\n        key: 'SwitchStatement',\n        value: function SwitchStatement(node) {\n            var i, iz;\n\n            this.visit(node.discriminant);\n\n            if (this.scopeManager.__isES6()) {\n                this.scopeManager.__nestSwitchScope(node);\n            }\n\n            for (i = 0, iz = node.cases.length; i < iz; ++i) {\n                this.visit(node.cases[i]);\n            }\n\n            this.close(node);\n        }\n    }, {\n        key: 'FunctionDeclaration',\n        value: function FunctionDeclaration(node) {\n            this.visitFunction(node);\n        }\n    }, {\n        key: 'FunctionExpression',\n        value: function FunctionExpression(node) {\n            this.visitFunction(node);\n        }\n    }, {\n        key: 'ForOfStatement',\n        value: function ForOfStatement(node) {\n            this.visitForIn(node);\n        }\n    }, {\n        key: 'ForInStatement',\n        value: function ForInStatement(node) {\n            this.visitForIn(node);\n        }\n    }, {\n        key: 'ArrowFunctionExpression',\n        value: function ArrowFunctionExpression(node) {\n            this.visitFunction(node);\n        }\n    }, {\n        key: 'ImportDeclaration',\n        value: function ImportDeclaration(node) {\n            var importer;\n\n            (0, _assert2.default)(this.scopeManager.__isES6() && this.scopeManager.isModule(), 'ImportDeclaration should appear when the mode is ES6 and in the module context.');\n\n            importer = new Importer(node, this);\n            importer.visit(node);\n        }\n    }, {\n        key: 'visitExportDeclaration',\n        value: function visitExportDeclaration(node) {\n            if (node.source) {\n                return;\n            }\n            if (node.declaration) {\n                this.visit(node.declaration);\n                return;\n            }\n\n            this.visitChildren(node);\n        }\n    }, {\n        key: 'ExportDeclaration',\n        value: function ExportDeclaration(node) {\n            this.visitExportDeclaration(node);\n        }\n    }, {\n        key: 'ExportNamedDeclaration',\n        value: function ExportNamedDeclaration(node) {\n            this.visitExportDeclaration(node);\n        }\n    }, {\n        key: 'ExportSpecifier',\n        value: function ExportSpecifier(node) {\n            var local = node.id || node.local;\n            this.visit(local);\n        }\n    }, {\n        key: 'MetaProperty',\n        value: function MetaProperty() {\n            // do nothing.\n        }\n    }]);\n\n    return Referencer;\n}(_esrecurse2.default.Visitor);\n\n/* vim: set sw=4 ts=4 et tw=80 : */\n\n\nexports.default = Referencer;\n//# sourceMappingURL=data:application/json;base64,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SyxXQUFMLENBQVgsQ0FEa0I7QUFFbEIsdUJBRmtCO2FBQXRCOztBQUtBLGlCQUFLLGFBQUwsQ0FBbUIsSUFBbkIsRUFUeUI7Ozs7MENBWVgsTUFBTTtBQUNwQixpQkFBSyxzQkFBTCxDQUE0QixJQUE1QixFQURvQjs7OzsrQ0FJRCxNQUFNO0FBQ3pCLGlCQUFLLHNCQUFMLENBQTRCLElBQTVCLEVBRHlCOzs7O3dDQUliLE1BQU07QUFDbEIsZ0JBQUksUUFBUyxLQUFLLEVBQUwsSUFBVyxLQUFLLEtBQUwsQ0FETjtBQUVsQixpQkFBSyxLQUFMLENBQVcsS0FBWCxFQUZrQjs7Ozt1Q0FLUDs7Ozs7V0F0ZUU7RUFBbUIsb0JBQVUsT0FBVjs7Ozs7a0JBQW5CIiwiZmlsZSI6InJlZmVyZW5jZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICBDb3B5cmlnaHQgKEMpIDIwMTUgWXVzdWtlIFN1enVraSA8dXRhdGFuZS50ZWFAZ21haWwuY29tPlxuXG4gIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblxuICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiAgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIDxDT1BZUklHSFQgSE9MREVSPiBCRSBMSUFCTEUgRk9SIEFOWVxuICBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0ZcbiAgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiovXG5pbXBvcnQgeyBTeW50YXggfSBmcm9tICdlc3RyYXZlcnNlJztcbmltcG9ydCBlc3JlY3Vyc2UgZnJvbSAnZXNyZWN1cnNlJztcbmltcG9ydCBSZWZlcmVuY2UgZnJvbSAnLi9yZWZlcmVuY2UnO1xuaW1wb3J0IFZhcmlhYmxlIGZyb20gJy4vdmFyaWFibGUnO1xuaW1wb3J0IFBhdHRlcm5WaXNpdG9yIGZyb20gJy4vcGF0dGVybi12aXNpdG9yJztcbmltcG9ydCB7IFBhcmFtZXRlckRlZmluaXRpb24sIERlZmluaXRpb24gfSBmcm9tICcuL2RlZmluaXRpb24nO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5mdW5jdGlvbiB0cmF2ZXJzZUlkZW50aWZpZXJJblBhdHRlcm4ob3B0aW9ucywgcm9vdFBhdHRlcm4sIHJlZmVyZW5jZXIsIGNhbGxiYWNrKSB7XG4gICAgLy8gQ2FsbCB0aGUgY2FsbGJhY2sgYXQgbGVmdCBoYW5kIGlkZW50aWZpZXIgbm9kZXMsIGFuZCBDb2xsZWN0IHJpZ2h0IGhhbmQgbm9kZXMuXG4gICAgdmFyIHZpc2l0b3IgPSBuZXcgUGF0dGVyblZpc2l0b3Iob3B0aW9ucywgcm9vdFBhdHRlcm4sIGNhbGxiYWNrKTtcbiAgICB2aXNpdG9yLnZpc2l0KHJvb3RQYXR0ZXJuKTtcblxuICAgIC8vIFByb2Nlc3MgdGhlIHJpZ2h0IGhhbmQgbm9kZXMgcmVjdXJzaXZlbHkuXG4gICAgaWYgKHJlZmVyZW5jZXIgIT0gbnVsbCkge1xuICAgICAgICB2aXNpdG9yLnJpZ2h0SGFuZE5vZGVzLmZvckVhY2gocmVmZXJlbmNlci52aXNpdCwgcmVmZXJlbmNlcik7XG4gICAgfVxufVxuXG4vLyBJbXBvcnRpbmcgSW1wb3J0RGVjbGFyYXRpb24uXG4vLyBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1tb2R1bGVkZWNsYXJhdGlvbmluc3RhbnRpYXRpb25cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lc3RyZWUvZXN0cmVlL2Jsb2IvbWFzdGVyL2VzNi5tZCNpbXBvcnRkZWNsYXJhdGlvblxuLy8gRklYTUU6IE5vdywgd2UgZG9uJ3QgY3JlYXRlIG1vZHVsZSBlbnZpcm9ubWVudCwgYmVjYXVzZSB0aGUgY29udGV4dCBpc1xuLy8gaW1wbGVtZW50YXRpb24gZGVwZW5kZW50LlxuXG5jbGFzcyBJbXBvcnRlciBleHRlbmRzIGVzcmVjdXJzZS5WaXNpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihkZWNsYXJhdGlvbiwgcmVmZXJlbmNlcikge1xuICAgICAgICBzdXBlcihudWxsLCByZWZlcmVuY2VyLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRlY2xhcmF0aW9uID0gZGVjbGFyYXRpb247XG4gICAgICAgIHRoaXMucmVmZXJlbmNlciA9IHJlZmVyZW5jZXI7XG4gICAgfVxuXG4gICAgdmlzaXRJbXBvcnQoaWQsIHNwZWNpZmllcikge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZXIudmlzaXRQYXR0ZXJuKGlkLCAocGF0dGVybikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VyLmN1cnJlbnRTY29wZSgpLl9fZGVmaW5lKHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgbmV3IERlZmluaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIFZhcmlhYmxlLkltcG9ydEJpbmRpbmcsXG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgICAgIHNwZWNpZmllcixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNsYXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyKG5vZGUpIHtcbiAgICAgICAgbGV0IGxvY2FsID0gKG5vZGUubG9jYWwgfHwgbm9kZS5pZCk7XG4gICAgICAgIGlmIChsb2NhbCkge1xuICAgICAgICAgICAgdGhpcy52aXNpdEltcG9ydChsb2NhbCwgbm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBJbXBvcnREZWZhdWx0U3BlY2lmaWVyKG5vZGUpIHtcbiAgICAgICAgbGV0IGxvY2FsID0gKG5vZGUubG9jYWwgfHwgbm9kZS5pZCk7XG4gICAgICAgIHRoaXMudmlzaXRJbXBvcnQobG9jYWwsIG5vZGUpO1xuICAgIH1cblxuICAgIEltcG9ydFNwZWNpZmllcihub2RlKSB7XG4gICAgICAgIGxldCBsb2NhbCA9IChub2RlLmxvY2FsIHx8IG5vZGUuaWQpO1xuICAgICAgICBpZiAobm9kZS5uYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0SW1wb3J0KG5vZGUubmFtZSwgbm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0SW1wb3J0KGxvY2FsLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gUmVmZXJlbmNpbmcgdmFyaWFibGVzIGFuZCBjcmVhdGluZyBiaW5kaW5ncy5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZmVyZW5jZXIgZXh0ZW5kcyBlc3JlY3Vyc2UuVmlzaXRvciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgc2NvcGVNYW5hZ2VyKSB7XG4gICAgICAgIHN1cGVyKG51bGwsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnNjb3BlTWFuYWdlciA9IHNjb3BlTWFuYWdlcjtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmlzSW5uZXJNZXRob2REZWZpbml0aW9uID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY3VycmVudFNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZU1hbmFnZXIuX19jdXJyZW50U2NvcGU7XG4gICAgfVxuXG4gICAgY2xvc2Uobm9kZSkge1xuICAgICAgICB3aGlsZSAodGhpcy5jdXJyZW50U2NvcGUoKSAmJiBub2RlID09PSB0aGlzLmN1cnJlbnRTY29wZSgpLmJsb2NrKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlTWFuYWdlci5fX2N1cnJlbnRTY29wZSA9IHRoaXMuY3VycmVudFNjb3BlKCkuX19jbG9zZSh0aGlzLnNjb3BlTWFuYWdlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdXNoSW5uZXJNZXRob2REZWZpbml0aW9uKGlzSW5uZXJNZXRob2REZWZpbml0aW9uKSB7XG4gICAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMuaXNJbm5lck1ldGhvZERlZmluaXRpb247XG4gICAgICAgIHRoaXMuaXNJbm5lck1ldGhvZERlZmluaXRpb24gPSBpc0lubmVyTWV0aG9kRGVmaW5pdGlvbjtcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzO1xuICAgIH1cblxuICAgIHBvcElubmVyTWV0aG9kRGVmaW5pdGlvbihpc0lubmVyTWV0aG9kRGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLmlzSW5uZXJNZXRob2REZWZpbml0aW9uID0gaXNJbm5lck1ldGhvZERlZmluaXRpb247XG4gICAgfVxuXG4gICAgbWF0ZXJpYWxpemVURFpTY29wZShub2RlLCBpdGVyYXRpb25Ob2RlKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXJ1bnRpbWUtc2VtYW50aWNzLWZvcmluLWRpdi1vZmV4cHJlc3Npb25ldmFsdWF0aW9uLWFic3RyYWN0LW9wZXJhdGlvblxuICAgICAgICAvLyBURFogc2NvcGUgaGlkZXMgdGhlIGRlY2xhcmF0aW9uJ3MgbmFtZXMuXG4gICAgICAgIHRoaXMuc2NvcGVNYW5hZ2VyLl9fbmVzdFREWlNjb3BlKG5vZGUsIGl0ZXJhdGlvbk5vZGUpO1xuICAgICAgICB0aGlzLnZpc2l0VmFyaWFibGVEZWNsYXJhdGlvbih0aGlzLmN1cnJlbnRTY29wZSgpLCBWYXJpYWJsZS5URFosIGl0ZXJhdGlvbk5vZGUubGVmdCwgMCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgbWF0ZXJpYWxpemVJdGVyYXRpb25TY29wZShub2RlKSB7XG4gICAgICAgIC8vIEdlbmVyYXRlIGl0ZXJhdGlvbiBzY29wZSBmb3IgdXBwZXIgRm9ySW4vRm9yT2YgU3RhdGVtZW50cy5cbiAgICAgICAgdmFyIGxldE9yQ29uc3REZWNsO1xuICAgICAgICB0aGlzLnNjb3BlTWFuYWdlci5fX25lc3RGb3JTY29wZShub2RlKTtcbiAgICAgICAgbGV0T3JDb25zdERlY2wgPSBub2RlLmxlZnQ7XG4gICAgICAgIHRoaXMudmlzaXRWYXJpYWJsZURlY2xhcmF0aW9uKHRoaXMuY3VycmVudFNjb3BlKCksIFZhcmlhYmxlLlZhcmlhYmxlLCBsZXRPckNvbnN0RGVjbCwgMCk7XG4gICAgICAgIHRoaXMudmlzaXRQYXR0ZXJuKGxldE9yQ29uc3REZWNsLmRlY2xhcmF0aW9uc1swXS5pZCwgKHBhdHRlcm4pID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuX19yZWZlcmVuY2luZyhwYXR0ZXJuLCBSZWZlcmVuY2UuV1JJVEUsIG5vZGUucmlnaHQsIG51bGwsIHRydWUsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZWZlcmVuY2luZ0RlZmF1bHRWYWx1ZShwYXR0ZXJuLCBhc3NpZ25tZW50cywgbWF5YmVJbXBsaWNpdEdsb2JhbCwgaW5pdCkge1xuICAgICAgICBjb25zdCBzY29wZSA9IHRoaXMuY3VycmVudFNjb3BlKCk7XG4gICAgICAgIGFzc2lnbm1lbnRzLmZvckVhY2goYXNzaWdubWVudCA9PiB7XG4gICAgICAgICAgICBzY29wZS5fX3JlZmVyZW5jaW5nKFxuICAgICAgICAgICAgICAgIHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgUmVmZXJlbmNlLldSSVRFLFxuICAgICAgICAgICAgICAgIGFzc2lnbm1lbnQucmlnaHQsXG4gICAgICAgICAgICAgICAgbWF5YmVJbXBsaWNpdEdsb2JhbCxcbiAgICAgICAgICAgICAgICBwYXR0ZXJuICE9PSBhc3NpZ25tZW50LmxlZnQsXG4gICAgICAgICAgICAgICAgaW5pdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZpc2l0UGF0dGVybihub2RlLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7cHJvY2Vzc1JpZ2h0SGFuZE5vZGVzOiBmYWxzZX1cbiAgICAgICAgfVxuICAgICAgICB0cmF2ZXJzZUlkZW50aWZpZXJJblBhdHRlcm4oXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgb3B0aW9ucy5wcm9jZXNzUmlnaHRIYW5kTm9kZXMgPyB0aGlzIDogbnVsbCxcbiAgICAgICAgICAgIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICB2aXNpdEZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgdmFyIGksIGl6O1xuICAgICAgICAvLyBGdW5jdGlvbkRlY2xhcmF0aW9uIG5hbWUgaXMgZGVmaW5lZCBpbiB1cHBlciBzY29wZVxuICAgICAgICAvLyBOT1RFOiBOb3QgcmVmZXJyaW5nIHZhcmlhYmxlU2NvcGUuIEl0IGlzIGludGVuZGVkLlxuICAgICAgICAvLyBTaW5jZVxuICAgICAgICAvLyAgaW4gRVM1LCBGdW5jdGlvbkRlY2xhcmF0aW9uIHNob3VsZCBiZSBpbiBGdW5jdGlvbkJvZHkuXG4gICAgICAgIC8vICBpbiBFUzYsIEZ1bmN0aW9uRGVjbGFyYXRpb24gc2hvdWxkIGJlIGJsb2NrIHNjb3BlZC5cbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gU3ludGF4LkZ1bmN0aW9uRGVjbGFyYXRpb24pIHtcbiAgICAgICAgICAgIC8vIGlkIGlzIGRlZmluZWQgaW4gdXBwZXIgc2NvcGVcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuX19kZWZpbmUobm9kZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgbmV3IERlZmluaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBWYXJpYWJsZS5GdW5jdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZ1bmN0aW9uRXhwcmVzc2lvbiB3aXRoIG5hbWUgY3JlYXRlcyBpdHMgc3BlY2lhbCBzY29wZTtcbiAgICAgICAgLy8gRnVuY3Rpb25FeHByZXNzaW9uTmFtZVNjb3BlLlxuICAgICAgICBpZiAobm9kZS50eXBlID09PSBTeW50YXguRnVuY3Rpb25FeHByZXNzaW9uICYmIG5vZGUuaWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVNYW5hZ2VyLl9fbmVzdEZ1bmN0aW9uRXhwcmVzc2lvbk5hbWVTY29wZShub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnNpZGVyIHRoaXMgZnVuY3Rpb24gaXMgaW4gdGhlIE1ldGhvZERlZmluaXRpb24uXG4gICAgICAgIHRoaXMuc2NvcGVNYW5hZ2VyLl9fbmVzdEZ1bmN0aW9uU2NvcGUobm9kZSwgdGhpcy5pc0lubmVyTWV0aG9kRGVmaW5pdGlvbik7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBwYXJhbWV0ZXIgZGVjbGFyYXRpb25zLlxuICAgICAgICBmb3IgKGkgPSAwLCBpeiA9IG5vZGUucGFyYW1zLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaXRQYXR0ZXJuKG5vZGUucGFyYW1zW2ldLCB7cHJvY2Vzc1JpZ2h0SGFuZE5vZGVzOiB0cnVlfSwgKHBhdHRlcm4sIGluZm8pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTY29wZSgpLl9fZGVmaW5lKHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQYXJhbWV0ZXJEZWZpbml0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5yZXN0XG4gICAgICAgICAgICAgICAgICAgICkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2luZ0RlZmF1bHRWYWx1ZShwYXR0ZXJuLCBpbmZvLmFzc2lnbm1lbnRzLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUncyBhIHJlc3QgYXJndW1lbnQsIGFkZCB0aGF0XG4gICAgICAgIGlmIChub2RlLnJlc3QpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaXRQYXR0ZXJuKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUmVzdEVsZW1lbnQnLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50OiBub2RlLnJlc3RcbiAgICAgICAgICAgIH0sIChwYXR0ZXJuKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS5fX2RlZmluZShwYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUGFyYW1ldGVyRGVmaW5pdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJhbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBCbG9ja1N0YXRlbWVudCB0byBwcmV2ZW50IGNyZWF0aW5nIEJsb2NrU3RhdGVtZW50IHNjb3BlLlxuICAgICAgICBpZiAobm9kZS5ib2R5LnR5cGUgPT09IFN5bnRheC5CbG9ja1N0YXRlbWVudCkge1xuICAgICAgICAgICAgdGhpcy52aXNpdENoaWxkcmVuKG5vZGUuYm9keSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0KG5vZGUuYm9keSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlKG5vZGUpO1xuICAgIH1cblxuICAgIHZpc2l0Q2xhc3Mobm9kZSkge1xuICAgICAgICBpZiAobm9kZS50eXBlID09PSBTeW50YXguQ2xhc3NEZWNsYXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS5fX2RlZmluZShub2RlLmlkLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRGVmaW5pdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIFZhcmlhYmxlLkNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IE1heWJlIGNvbnNpZGVyIFREWi5cbiAgICAgICAgdGhpcy52aXNpdChub2RlLnN1cGVyQ2xhc3MpO1xuXG4gICAgICAgIHRoaXMuc2NvcGVNYW5hZ2VyLl9fbmVzdENsYXNzU2NvcGUobm9kZSk7XG5cbiAgICAgICAgaWYgKG5vZGUuaWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuX19kZWZpbmUobm9kZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgbmV3IERlZmluaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBWYXJpYWJsZS5DbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpc2l0KG5vZGUuYm9keSk7XG5cbiAgICAgICAgdGhpcy5jbG9zZShub2RlKTtcbiAgICB9XG5cbiAgICB2aXNpdFByb3BlcnR5KG5vZGUpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzLCBpc01ldGhvZERlZmluaXRpb247XG4gICAgICAgIGlmIChub2RlLmNvbXB1dGVkKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0KG5vZGUua2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzTWV0aG9kRGVmaW5pdGlvbiA9IG5vZGUudHlwZSA9PT0gU3ludGF4Lk1ldGhvZERlZmluaXRpb247XG4gICAgICAgIGlmIChpc01ldGhvZERlZmluaXRpb24pIHtcbiAgICAgICAgICAgIHByZXZpb3VzID0gdGhpcy5wdXNoSW5uZXJNZXRob2REZWZpbml0aW9uKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlzaXQobm9kZS52YWx1ZSk7XG4gICAgICAgIGlmIChpc01ldGhvZERlZmluaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucG9wSW5uZXJNZXRob2REZWZpbml0aW9uKHByZXZpb3VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZpc2l0Rm9ySW4obm9kZSkge1xuICAgICAgICBpZiAobm9kZS5sZWZ0LnR5cGUgPT09IFN5bnRheC5WYXJpYWJsZURlY2xhcmF0aW9uICYmIG5vZGUubGVmdC5raW5kICE9PSAndmFyJykge1xuICAgICAgICAgICAgdGhpcy5tYXRlcmlhbGl6ZVREWlNjb3BlKG5vZGUucmlnaHQsIG5vZGUpO1xuICAgICAgICAgICAgdGhpcy52aXNpdChub2RlLnJpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2Uobm9kZS5yaWdodCk7XG5cbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxpemVJdGVyYXRpb25TY29wZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMudmlzaXQobm9kZS5ib2R5KTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2Uobm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobm9kZS5sZWZ0LnR5cGUgPT09IFN5bnRheC5WYXJpYWJsZURlY2xhcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdChub2RlLmxlZnQpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRQYXR0ZXJuKG5vZGUubGVmdC5kZWNsYXJhdGlvbnNbMF0uaWQsIChwYXR0ZXJuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuX19yZWZlcmVuY2luZyhwYXR0ZXJuLCBSZWZlcmVuY2UuV1JJVEUsIG5vZGUucmlnaHQsIG51bGwsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0UGF0dGVybihub2RlLmxlZnQsIHtwcm9jZXNzUmlnaHRIYW5kTm9kZXM6IHRydWV9LCAocGF0dGVybiwgaW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF5YmVJbXBsaWNpdEdsb2JhbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50U2NvcGUoKS5pc1N0cmljdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVJbXBsaWNpdEdsb2JhbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2luZ0RlZmF1bHRWYWx1ZShwYXR0ZXJuLCBpbmZvLmFzc2lnbm1lbnRzLCBtYXliZUltcGxpY2l0R2xvYmFsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuX19yZWZlcmVuY2luZyhwYXR0ZXJuLCBSZWZlcmVuY2UuV1JJVEUsIG5vZGUucmlnaHQsIG1heWJlSW1wbGljaXRHbG9iYWwsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmlzaXQobm9kZS5yaWdodCk7XG4gICAgICAgICAgICB0aGlzLnZpc2l0KG5vZGUuYm9keSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2aXNpdFZhcmlhYmxlRGVjbGFyYXRpb24odmFyaWFibGVUYXJnZXRTY29wZSwgdHlwZSwgbm9kZSwgaW5kZXgsIGZyb21URFopIHtcbiAgICAgICAgLy8gSWYgdGhpcyB3YXMgY2FsbGVkIHRvIGluaXRpYWxpemUgYSBURFogc2NvcGUsIHRoaXMgbmVlZHMgdG8gbWFrZSBkZWZpbml0aW9ucywgYnV0IGRvZXNuJ3QgbWFrZSByZWZlcmVuY2VzLlxuICAgICAgICB2YXIgZGVjbCwgaW5pdDtcblxuICAgICAgICBkZWNsID0gbm9kZS5kZWNsYXJhdGlvbnNbaW5kZXhdO1xuICAgICAgICBpbml0ID0gZGVjbC5pbml0O1xuICAgICAgICB0aGlzLnZpc2l0UGF0dGVybihkZWNsLmlkLCB7cHJvY2Vzc1JpZ2h0SGFuZE5vZGVzOiAhZnJvbVREWn0sIChwYXR0ZXJuLCBpbmZvKSA9PiB7XG4gICAgICAgICAgICB2YXJpYWJsZVRhcmdldFNjb3BlLl9fZGVmaW5lKHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgbmV3IERlZmluaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgICAgIGRlY2wsXG4gICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBub2RlLmtpbmRcbiAgICAgICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgaWYgKCFmcm9tVERaKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2luZ0RlZmF1bHRWYWx1ZShwYXR0ZXJuLCBpbmZvLmFzc2lnbm1lbnRzLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbml0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS5fX3JlZmVyZW5jaW5nKHBhdHRlcm4sIFJlZmVyZW5jZS5XUklURSwgaW5pdCwgbnVsbCwgIWluZm8udG9wTGV2ZWwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBBc3NpZ25tZW50RXhwcmVzc2lvbihub2RlKSB7XG4gICAgICAgIGlmIChQYXR0ZXJuVmlzaXRvci5pc1BhdHRlcm4obm9kZS5sZWZ0KSkge1xuICAgICAgICAgICAgaWYgKG5vZGUub3BlcmF0b3IgPT09ICc9Jykge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRQYXR0ZXJuKG5vZGUubGVmdCwge3Byb2Nlc3NSaWdodEhhbmROb2RlczogdHJ1ZX0sIChwYXR0ZXJuLCBpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXliZUltcGxpY2l0R2xvYmFsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRTY29wZSgpLmlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXliZUltcGxpY2l0R2xvYmFsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZmVyZW5jaW5nRGVmYXVsdFZhbHVlKHBhdHRlcm4sIGluZm8uYXNzaWdubWVudHMsIG1heWJlSW1wbGljaXRHbG9iYWwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS5fX3JlZmVyZW5jaW5nKHBhdHRlcm4sIFJlZmVyZW5jZS5XUklURSwgbm9kZS5yaWdodCwgbWF5YmVJbXBsaWNpdEdsb2JhbCwgIWluZm8udG9wTGV2ZWwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS5fX3JlZmVyZW5jaW5nKG5vZGUubGVmdCwgUmVmZXJlbmNlLlJXLCBub2RlLnJpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlzaXQobm9kZS5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpc2l0KG5vZGUucmlnaHQpO1xuICAgIH1cblxuICAgIENhdGNoQ2xhdXNlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5zY29wZU1hbmFnZXIuX19uZXN0Q2F0Y2hTY29wZShub2RlKTtcblxuICAgICAgICB0aGlzLnZpc2l0UGF0dGVybihub2RlLnBhcmFtLCB7cHJvY2Vzc1JpZ2h0SGFuZE5vZGVzOiB0cnVlfSwgKHBhdHRlcm4sIGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuX19kZWZpbmUocGF0dGVybixcbiAgICAgICAgICAgICAgICBuZXcgRGVmaW5pdGlvbihcbiAgICAgICAgICAgICAgICAgICAgVmFyaWFibGUuQ2F0Y2hDbGF1c2UsXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGFyYW0sXG4gICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHRoaXMucmVmZXJlbmNpbmdEZWZhdWx0VmFsdWUocGF0dGVybiwgaW5mby5hc3NpZ25tZW50cywgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpc2l0KG5vZGUuYm9keSk7XG5cbiAgICAgICAgdGhpcy5jbG9zZShub2RlKTtcbiAgICB9XG5cbiAgICBQcm9ncmFtKG5vZGUpIHtcbiAgICAgICAgdGhpcy5zY29wZU1hbmFnZXIuX19uZXN0R2xvYmFsU2NvcGUobm9kZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2NvcGVNYW5hZ2VyLl9faXNOb2RlanNTY29wZSgpKSB7XG4gICAgICAgICAgICAvLyBGb3JjZSBzdHJpY3RuZXNzIG9mIEdsb2JhbFNjb3BlIHRvIGZhbHNlIHdoZW4gdXNpbmcgbm9kZS5qcyBzY29wZS5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuaXNTdHJpY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVNYW5hZ2VyLl9fbmVzdEZ1bmN0aW9uU2NvcGUobm9kZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2NvcGVNYW5hZ2VyLl9faXNFUzYoKSAmJiB0aGlzLnNjb3BlTWFuYWdlci5pc01vZHVsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlTWFuYWdlci5fX25lc3RNb2R1bGVTY29wZShub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNjb3BlTWFuYWdlci5pc1N0cmljdE1vZGVTdXBwb3J0ZWQoKSAmJiB0aGlzLnNjb3BlTWFuYWdlci5pc0ltcGxpZWRTdHJpY3QoKSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS5pc1N0cmljdCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2l0Q2hpbGRyZW4obm9kZSk7XG4gICAgICAgIHRoaXMuY2xvc2Uobm9kZSk7XG4gICAgfVxuXG4gICAgSWRlbnRpZmllcihub2RlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuX19yZWZlcmVuY2luZyhub2RlKTtcbiAgICB9XG5cbiAgICBVcGRhdGVFeHByZXNzaW9uKG5vZGUpIHtcbiAgICAgICAgaWYgKFBhdHRlcm5WaXNpdG9yLmlzUGF0dGVybihub2RlLmFyZ3VtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS5fX3JlZmVyZW5jaW5nKG5vZGUuYXJndW1lbnQsIFJlZmVyZW5jZS5SVywgbnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0Q2hpbGRyZW4obm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBNZW1iZXJFeHByZXNzaW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy52aXNpdChub2RlLm9iamVjdCk7XG4gICAgICAgIGlmIChub2RlLmNvbXB1dGVkKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0KG5vZGUucHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgUHJvcGVydHkobm9kZSkge1xuICAgICAgICB0aGlzLnZpc2l0UHJvcGVydHkobm9kZSk7XG4gICAgfVxuXG4gICAgTWV0aG9kRGVmaW5pdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMudmlzaXRQcm9wZXJ0eShub2RlKTtcbiAgICB9XG5cbiAgICBCcmVha1N0YXRlbWVudCgpIHt9XG5cbiAgICBDb250aW51ZVN0YXRlbWVudCgpIHt9XG5cbiAgICBMYWJlbGVkU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdGhpcy52aXNpdChub2RlLmJvZHkpO1xuICAgIH1cblxuICAgIEZvclN0YXRlbWVudChub2RlKSB7XG4gICAgICAgIC8vIENyZWF0ZSBGb3JTdGF0ZW1lbnQgZGVjbGFyYXRpb24uXG4gICAgICAgIC8vIE5PVEU6IEluIEVTNiwgRm9yU3RhdGVtZW50IGR5bmFtaWNhbGx5IGdlbmVyYXRlc1xuICAgICAgICAvLyBwZXIgaXRlcmF0aW9uIGVudmlyb25tZW50LiBIb3dldmVyLCBlc2NvcGUgaXNcbiAgICAgICAgLy8gYSBzdGF0aWMgYW5hbHl6ZXIsIHdlIG9ubHkgZ2VuZXJhdGUgb25lIHNjb3BlIGZvciBGb3JTdGF0ZW1lbnQuXG4gICAgICAgIGlmIChub2RlLmluaXQgJiYgbm9kZS5pbml0LnR5cGUgPT09IFN5bnRheC5WYXJpYWJsZURlY2xhcmF0aW9uICYmIG5vZGUuaW5pdC5raW5kICE9PSAndmFyJykge1xuICAgICAgICAgICAgdGhpcy5zY29wZU1hbmFnZXIuX19uZXN0Rm9yU2NvcGUobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2l0Q2hpbGRyZW4obm9kZSk7XG5cbiAgICAgICAgdGhpcy5jbG9zZShub2RlKTtcbiAgICB9XG5cbiAgICBDbGFzc0V4cHJlc3Npb24obm9kZSkge1xuICAgICAgICB0aGlzLnZpc2l0Q2xhc3Mobm9kZSk7XG4gICAgfVxuXG4gICAgQ2xhc3NEZWNsYXJhdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMudmlzaXRDbGFzcyhub2RlKTtcbiAgICB9XG5cbiAgICBDYWxsRXhwcmVzc2lvbihub2RlKSB7XG4gICAgICAgIC8vIENoZWNrIHRoaXMgaXMgZGlyZWN0IGNhbGwgdG8gZXZhbFxuICAgICAgICBpZiAoIXRoaXMuc2NvcGVNYW5hZ2VyLl9faWdub3JlRXZhbCgpICYmIG5vZGUuY2FsbGVlLnR5cGUgPT09IFN5bnRheC5JZGVudGlmaWVyICYmIG5vZGUuY2FsbGVlLm5hbWUgPT09ICdldmFsJykge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBzaG91bGQgYmUgYHZhcmlhYmxlU2NvcGVgLiBTaW5jZSBkaXJlY3QgZXZhbCBjYWxsIGFsd2F5cyBjcmVhdGVzIExleGljYWwgZW52aXJvbm1lbnQgYW5kXG4gICAgICAgICAgICAvLyBsZXQgLyBjb25zdCBzaG91bGQgYmUgZW5jbG9zZWQgaW50byBpdC4gT25seSBWYXJpYWJsZURlY2xhcmF0aW9uIGFmZmVjdHMgb24gdGhlIGNhbGxlcidzIGVudmlyb25tZW50LlxuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS52YXJpYWJsZVNjb3BlLl9fZGV0ZWN0RXZhbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlzaXRDaGlsZHJlbihub2RlKTtcbiAgICB9XG5cbiAgICBCbG9ja1N0YXRlbWVudChub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLnNjb3BlTWFuYWdlci5fX2lzRVM2KCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVNYW5hZ2VyLl9fbmVzdEJsb2NrU2NvcGUobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2l0Q2hpbGRyZW4obm9kZSk7XG5cbiAgICAgICAgdGhpcy5jbG9zZShub2RlKTtcbiAgICB9XG5cbiAgICBUaGlzRXhwcmVzc2lvbigpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUoKS52YXJpYWJsZVNjb3BlLl9fZGV0ZWN0VGhpcygpO1xuICAgIH1cblxuICAgIFdpdGhTdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICB0aGlzLnZpc2l0KG5vZGUub2JqZWN0KTtcbiAgICAgICAgLy8gVGhlbiBuZXN0IHNjb3BlIGZvciBXaXRoU3RhdGVtZW50LlxuICAgICAgICB0aGlzLnNjb3BlTWFuYWdlci5fX25lc3RXaXRoU2NvcGUobm9kZSk7XG5cbiAgICAgICAgdGhpcy52aXNpdChub2RlLmJvZHkpO1xuXG4gICAgICAgIHRoaXMuY2xvc2Uobm9kZSk7XG4gICAgfVxuXG4gICAgVmFyaWFibGVEZWNsYXJhdGlvbihub2RlKSB7XG4gICAgICAgIHZhciB2YXJpYWJsZVRhcmdldFNjb3BlLCBpLCBpeiwgZGVjbDtcbiAgICAgICAgdmFyaWFibGVUYXJnZXRTY29wZSA9IChub2RlLmtpbmQgPT09ICd2YXInKSA/IHRoaXMuY3VycmVudFNjb3BlKCkudmFyaWFibGVTY29wZSA6IHRoaXMuY3VycmVudFNjb3BlKCk7XG4gICAgICAgIGZvciAoaSA9IDAsIGl6ID0gbm9kZS5kZWNsYXJhdGlvbnMubGVuZ3RoOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgZGVjbCA9IG5vZGUuZGVjbGFyYXRpb25zW2ldO1xuICAgICAgICAgICAgdGhpcy52aXNpdFZhcmlhYmxlRGVjbGFyYXRpb24odmFyaWFibGVUYXJnZXRTY29wZSwgVmFyaWFibGUuVmFyaWFibGUsIG5vZGUsIGkpO1xuICAgICAgICAgICAgaWYgKGRlY2wuaW5pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaXQoZGVjbC5pbml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNlYyAxMy4xMS44XG4gICAgU3dpdGNoU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdmFyIGksIGl6O1xuXG4gICAgICAgIHRoaXMudmlzaXQobm9kZS5kaXNjcmltaW5hbnQpO1xuXG4gICAgICAgIGlmICh0aGlzLnNjb3BlTWFuYWdlci5fX2lzRVM2KCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVNYW5hZ2VyLl9fbmVzdFN3aXRjaFNjb3BlKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMCwgaXogPSBub2RlLmNhc2VzLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaXQobm9kZS5jYXNlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlKG5vZGUpO1xuICAgIH1cblxuICAgIEZ1bmN0aW9uRGVjbGFyYXRpb24obm9kZSkge1xuICAgICAgICB0aGlzLnZpc2l0RnVuY3Rpb24obm9kZSk7XG4gICAgfVxuXG4gICAgRnVuY3Rpb25FeHByZXNzaW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy52aXNpdEZ1bmN0aW9uKG5vZGUpO1xuICAgIH1cblxuICAgIEZvck9mU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdGhpcy52aXNpdEZvckluKG5vZGUpO1xuICAgIH1cblxuICAgIEZvckluU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdGhpcy52aXNpdEZvckluKG5vZGUpO1xuICAgIH1cblxuICAgIEFycm93RnVuY3Rpb25FeHByZXNzaW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy52aXNpdEZ1bmN0aW9uKG5vZGUpO1xuICAgIH1cblxuICAgIEltcG9ydERlY2xhcmF0aW9uKG5vZGUpIHtcbiAgICAgICAgdmFyIGltcG9ydGVyO1xuXG4gICAgICAgIGFzc2VydCh0aGlzLnNjb3BlTWFuYWdlci5fX2lzRVM2KCkgJiYgdGhpcy5zY29wZU1hbmFnZXIuaXNNb2R1bGUoKSwgJ0ltcG9ydERlY2xhcmF0aW9uIHNob3VsZCBhcHBlYXIgd2hlbiB0aGUgbW9kZSBpcyBFUzYgYW5kIGluIHRoZSBtb2R1bGUgY29udGV4dC4nKTtcblxuICAgICAgICBpbXBvcnRlciA9IG5ldyBJbXBvcnRlcihub2RlLCB0aGlzKTtcbiAgICAgICAgaW1wb3J0ZXIudmlzaXQobm9kZSk7XG4gICAgfVxuXG4gICAgdmlzaXRFeHBvcnREZWNsYXJhdGlvbihub2RlKSB7XG4gICAgICAgIGlmIChub2RlLnNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmRlY2xhcmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0KG5vZGUuZGVjbGFyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aXNpdENoaWxkcmVuKG5vZGUpO1xuICAgIH1cblxuICAgIEV4cG9ydERlY2xhcmF0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy52aXNpdEV4cG9ydERlY2xhcmF0aW9uKG5vZGUpO1xuICAgIH1cblxuICAgIEV4cG9ydE5hbWVkRGVjbGFyYXRpb24obm9kZSkge1xuICAgICAgICB0aGlzLnZpc2l0RXhwb3J0RGVjbGFyYXRpb24obm9kZSk7XG4gICAgfVxuXG4gICAgRXhwb3J0U3BlY2lmaWVyKG5vZGUpIHtcbiAgICAgICAgbGV0IGxvY2FsID0gKG5vZGUuaWQgfHwgbm9kZS5sb2NhbCk7XG4gICAgICAgIHRoaXMudmlzaXQobG9jYWwpO1xuICAgIH1cblxuICAgIE1ldGFQcm9wZXJ0eSgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZy5cbiAgICB9XG59XG5cbi8qIHZpbTogc2V0IHN3PTQgdHM9NCBldCB0dz04MCA6ICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=\n"]}