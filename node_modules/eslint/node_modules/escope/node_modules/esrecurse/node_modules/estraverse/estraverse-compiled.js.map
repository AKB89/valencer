{"version":3,"sources":["estraverse.js"],"names":[],"mappings":"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","file":"estraverse-compiled.js","sourcesContent":["/*\n  Copyright (C) 2012-2013 Yusuke Suzuki <utatane.tea@gmail.com>\n  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n/*jslint vars:false, bitwise:true*/\n/*jshint indent:4*/\n/*global exports:true*/\n(function clone(exports) {\n    'use strict';\n\n    var Syntax,\n        isArray,\n        VisitorOption,\n        VisitorKeys,\n        objectCreate,\n        objectKeys,\n        BREAK,\n        SKIP,\n        REMOVE;\n\n    function ignoreJSHintError() { }\n\n    isArray = Array.isArray;\n    if (!isArray) {\n        isArray = function isArray(array) {\n            return Object.prototype.toString.call(array) === '[object Array]';\n        };\n    }\n\n    function deepCopy(obj) {\n        var ret = {}, key, val;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                val = obj[key];\n                if (typeof val === 'object' && val !== null) {\n                    ret[key] = deepCopy(val);\n                } else {\n                    ret[key] = val;\n                }\n            }\n        }\n        return ret;\n    }\n\n    function shallowCopy(obj) {\n        var ret = {}, key;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    ignoreJSHintError(shallowCopy);\n\n    // based on LLVM libc++ upper_bound / lower_bound\n    // MIT License\n\n    function upperBound(array, func) {\n        var diff, len, i, current;\n\n        len = array.length;\n        i = 0;\n\n        while (len) {\n            diff = len >>> 1;\n            current = i + diff;\n            if (func(array[current])) {\n                len = diff;\n            } else {\n                i = current + 1;\n                len -= diff + 1;\n            }\n        }\n        return i;\n    }\n\n    function lowerBound(array, func) {\n        var diff, len, i, current;\n\n        len = array.length;\n        i = 0;\n\n        while (len) {\n            diff = len >>> 1;\n            current = i + diff;\n            if (func(array[current])) {\n                i = current + 1;\n                len -= diff + 1;\n            } else {\n                len = diff;\n            }\n        }\n        return i;\n    }\n    ignoreJSHintError(lowerBound);\n\n    objectCreate = Object.create || (function () {\n        function F() { }\n\n        return function (o) {\n            F.prototype = o;\n            return new F();\n        };\n    })();\n\n    objectKeys = Object.keys || function (o) {\n        var keys = [], key;\n        for (key in o) {\n            keys.push(key);\n        }\n        return keys;\n    };\n\n    function extend(to, from) {\n        var keys = objectKeys(from), key, i, len;\n        for (i = 0, len = keys.length; i < len; i += 1) {\n            key = keys[i];\n            to[key] = from[key];\n        }\n        return to;\n    }\n\n    Syntax = {\n        AssignmentExpression: 'AssignmentExpression',\n        AssignmentPattern: 'AssignmentPattern',\n        ArrayExpression: 'ArrayExpression',\n        ArrayPattern: 'ArrayPattern',\n        ArrowFunctionExpression: 'ArrowFunctionExpression',\n        AwaitExpression: 'AwaitExpression', // CAUTION: It's deferred to ES7.\n        BlockStatement: 'BlockStatement',\n        BinaryExpression: 'BinaryExpression',\n        BreakStatement: 'BreakStatement',\n        CallExpression: 'CallExpression',\n        CatchClause: 'CatchClause',\n        ClassBody: 'ClassBody',\n        ClassDeclaration: 'ClassDeclaration',\n        ClassExpression: 'ClassExpression',\n        ComprehensionBlock: 'ComprehensionBlock',  // CAUTION: It's deferred to ES7.\n        ComprehensionExpression: 'ComprehensionExpression',  // CAUTION: It's deferred to ES7.\n        ConditionalExpression: 'ConditionalExpression',\n        ContinueStatement: 'ContinueStatement',\n        DebuggerStatement: 'DebuggerStatement',\n        DirectiveStatement: 'DirectiveStatement',\n        DoWhileStatement: 'DoWhileStatement',\n        EmptyStatement: 'EmptyStatement',\n        ExportAllDeclaration: 'ExportAllDeclaration',\n        ExportDefaultDeclaration: 'ExportDefaultDeclaration',\n        ExportNamedDeclaration: 'ExportNamedDeclaration',\n        ExportSpecifier: 'ExportSpecifier',\n        ExpressionStatement: 'ExpressionStatement',\n        ForStatement: 'ForStatement',\n        ForInStatement: 'ForInStatement',\n        ForOfStatement: 'ForOfStatement',\n        FunctionDeclaration: 'FunctionDeclaration',\n        FunctionExpression: 'FunctionExpression',\n        GeneratorExpression: 'GeneratorExpression',  // CAUTION: It's deferred to ES7.\n        Identifier: 'Identifier',\n        IfStatement: 'IfStatement',\n        ImportDeclaration: 'ImportDeclaration',\n        ImportDefaultSpecifier: 'ImportDefaultSpecifier',\n        ImportNamespaceSpecifier: 'ImportNamespaceSpecifier',\n        ImportSpecifier: 'ImportSpecifier',\n        Literal: 'Literal',\n        LabeledStatement: 'LabeledStatement',\n        LogicalExpression: 'LogicalExpression',\n        MemberExpression: 'MemberExpression',\n        MetaProperty: 'MetaProperty',\n        MethodDefinition: 'MethodDefinition',\n        ModuleSpecifier: 'ModuleSpecifier',\n        NewExpression: 'NewExpression',\n        ObjectExpression: 'ObjectExpression',\n        ObjectPattern: 'ObjectPattern',\n        Program: 'Program',\n        Property: 'Property',\n        RestElement: 'RestElement',\n        ReturnStatement: 'ReturnStatement',\n        SequenceExpression: 'SequenceExpression',\n        SpreadElement: 'SpreadElement',\n        Super: 'Super',\n        SwitchStatement: 'SwitchStatement',\n        SwitchCase: 'SwitchCase',\n        TaggedTemplateExpression: 'TaggedTemplateExpression',\n        TemplateElement: 'TemplateElement',\n        TemplateLiteral: 'TemplateLiteral',\n        ThisExpression: 'ThisExpression',\n        ThrowStatement: 'ThrowStatement',\n        TryStatement: 'TryStatement',\n        UnaryExpression: 'UnaryExpression',\n        UpdateExpression: 'UpdateExpression',\n        VariableDeclaration: 'VariableDeclaration',\n        VariableDeclarator: 'VariableDeclarator',\n        WhileStatement: 'WhileStatement',\n        WithStatement: 'WithStatement',\n        YieldExpression: 'YieldExpression'\n    };\n\n    VisitorKeys = {\n        AssignmentExpression: ['left', 'right'],\n        AssignmentPattern: ['left', 'right'],\n        ArrayExpression: ['elements'],\n        ArrayPattern: ['elements'],\n        ArrowFunctionExpression: ['params', 'body'],\n        AwaitExpression: ['argument'], // CAUTION: It's deferred to ES7.\n        BlockStatement: ['body'],\n        BinaryExpression: ['left', 'right'],\n        BreakStatement: ['label'],\n        CallExpression: ['callee', 'arguments'],\n        CatchClause: ['param', 'body'],\n        ClassBody: ['body'],\n        ClassDeclaration: ['id', 'superClass', 'body'],\n        ClassExpression: ['id', 'superClass', 'body'],\n        ComprehensionBlock: ['left', 'right'],  // CAUTION: It's deferred to ES7.\n        ComprehensionExpression: ['blocks', 'filter', 'body'],  // CAUTION: It's deferred to ES7.\n        ConditionalExpression: ['test', 'consequent', 'alternate'],\n        ContinueStatement: ['label'],\n        DebuggerStatement: [],\n        DirectiveStatement: [],\n        DoWhileStatement: ['body', 'test'],\n        EmptyStatement: [],\n        ExportAllDeclaration: ['source'],\n        ExportDefaultDeclaration: ['declaration'],\n        ExportNamedDeclaration: ['declaration', 'specifiers', 'source'],\n        ExportSpecifier: ['exported', 'local'],\n        ExpressionStatement: ['expression'],\n        ForStatement: ['init', 'test', 'update', 'body'],\n        ForInStatement: ['left', 'right', 'body'],\n        ForOfStatement: ['left', 'right', 'body'],\n        FunctionDeclaration: ['id', 'params', 'body'],\n        FunctionExpression: ['id', 'params', 'body'],\n        GeneratorExpression: ['blocks', 'filter', 'body'],  // CAUTION: It's deferred to ES7.\n        Identifier: [],\n        IfStatement: ['test', 'consequent', 'alternate'],\n        ImportDeclaration: ['specifiers', 'source'],\n        ImportDefaultSpecifier: ['local'],\n        ImportNamespaceSpecifier: ['local'],\n        ImportSpecifier: ['imported', 'local'],\n        Literal: [],\n        LabeledStatement: ['label', 'body'],\n        LogicalExpression: ['left', 'right'],\n        MemberExpression: ['object', 'property'],\n        MetaProperty: ['meta', 'property'],\n        MethodDefinition: ['key', 'value'],\n        ModuleSpecifier: [],\n        NewExpression: ['callee', 'arguments'],\n        ObjectExpression: ['properties'],\n        ObjectPattern: ['properties'],\n        Program: ['body'],\n        Property: ['key', 'value'],\n        RestElement: [ 'argument' ],\n        ReturnStatement: ['argument'],\n        SequenceExpression: ['expressions'],\n        SpreadElement: ['argument'],\n        Super: [],\n        SwitchStatement: ['discriminant', 'cases'],\n        SwitchCase: ['test', 'consequent'],\n        TaggedTemplateExpression: ['tag', 'quasi'],\n        TemplateElement: [],\n        TemplateLiteral: ['quasis', 'expressions'],\n        ThisExpression: [],\n        ThrowStatement: ['argument'],\n        TryStatement: ['block', 'handler', 'finalizer'],\n        UnaryExpression: ['argument'],\n        UpdateExpression: ['argument'],\n        VariableDeclaration: ['declarations'],\n        VariableDeclarator: ['id', 'init'],\n        WhileStatement: ['test', 'body'],\n        WithStatement: ['object', 'body'],\n        YieldExpression: ['argument']\n    };\n\n    // unique id\n    BREAK = {};\n    SKIP = {};\n    REMOVE = {};\n\n    VisitorOption = {\n        Break: BREAK,\n        Skip: SKIP,\n        Remove: REMOVE\n    };\n\n    function Reference(parent, key) {\n        this.parent = parent;\n        this.key = key;\n    }\n\n    Reference.prototype.replace = function replace(node) {\n        this.parent[this.key] = node;\n    };\n\n    Reference.prototype.remove = function remove() {\n        if (isArray(this.parent)) {\n            this.parent.splice(this.key, 1);\n            return true;\n        } else {\n            this.replace(null);\n            return false;\n        }\n    };\n\n    function Element(node, path, wrap, ref) {\n        this.node = node;\n        this.path = path;\n        this.wrap = wrap;\n        this.ref = ref;\n    }\n\n    function Controller() { }\n\n    // API:\n    // return property path array from root to current node\n    Controller.prototype.path = function path() {\n        var i, iz, j, jz, result, element;\n\n        function addToPath(result, path) {\n            if (isArray(path)) {\n                for (j = 0, jz = path.length; j < jz; ++j) {\n                    result.push(path[j]);\n                }\n            } else {\n                result.push(path);\n            }\n        }\n\n        // root node\n        if (!this.__current.path) {\n            return null;\n        }\n\n        // first node is sentinel, second node is root element\n        result = [];\n        for (i = 2, iz = this.__leavelist.length; i < iz; ++i) {\n            element = this.__leavelist[i];\n            addToPath(result, element.path);\n        }\n        addToPath(result, this.__current.path);\n        return result;\n    };\n\n    // API:\n    // return type of current node\n    Controller.prototype.type = function () {\n        var node = this.current();\n        return node.type || this.__current.wrap;\n    };\n\n    // API:\n    // return array of parent elements\n    Controller.prototype.parents = function parents() {\n        var i, iz, result;\n\n        // first node is sentinel\n        result = [];\n        for (i = 1, iz = this.__leavelist.length; i < iz; ++i) {\n            result.push(this.__leavelist[i].node);\n        }\n\n        return result;\n    };\n\n    // API:\n    // return current node\n    Controller.prototype.current = function current() {\n        return this.__current.node;\n    };\n\n    Controller.prototype.__execute = function __execute(callback, element) {\n        var previous, result;\n\n        result = undefined;\n\n        previous  = this.__current;\n        this.__current = element;\n        this.__state = null;\n        if (callback) {\n            result = callback.call(this, element.node, this.__leavelist[this.__leavelist.length - 1].node);\n        }\n        this.__current = previous;\n\n        return result;\n    };\n\n    // API:\n    // notify control skip / break\n    Controller.prototype.notify = function notify(flag) {\n        this.__state = flag;\n    };\n\n    // API:\n    // skip child nodes of current node\n    Controller.prototype.skip = function () {\n        this.notify(SKIP);\n    };\n\n    // API:\n    // break traversals\n    Controller.prototype['break'] = function () {\n        this.notify(BREAK);\n    };\n\n    // API:\n    // remove node\n    Controller.prototype.remove = function () {\n        this.notify(REMOVE);\n    };\n\n    Controller.prototype.__initialize = function(root, visitor) {\n        this.visitor = visitor;\n        this.root = root;\n        this.__worklist = [];\n        this.__leavelist = [];\n        this.__current = null;\n        this.__state = null;\n        this.__fallback = visitor.fallback === 'iteration';\n        this.__keys = VisitorKeys;\n        if (visitor.keys) {\n            this.__keys = extend(objectCreate(this.__keys), visitor.keys);\n        }\n    };\n\n    function isNode(node) {\n        if (node == null) {\n            return false;\n        }\n        return typeof node === 'object' && typeof node.type === 'string';\n    }\n\n    function isProperty(nodeType, key) {\n        return (nodeType === Syntax.ObjectExpression || nodeType === Syntax.ObjectPattern) && 'properties' === key;\n    }\n\n    Controller.prototype.traverse = function traverse(root, visitor) {\n        var worklist,\n            leavelist,\n            element,\n            node,\n            nodeType,\n            ret,\n            key,\n            current,\n            current2,\n            candidates,\n            candidate,\n            sentinel;\n\n        this.__initialize(root, visitor);\n\n        sentinel = {};\n\n        // reference\n        worklist = this.__worklist;\n        leavelist = this.__leavelist;\n\n        // initialize\n        worklist.push(new Element(root, null, null, null));\n        leavelist.push(new Element(null, null, null, null));\n\n        while (worklist.length) {\n            element = worklist.pop();\n\n            if (element === sentinel) {\n                element = leavelist.pop();\n\n                ret = this.__execute(visitor.leave, element);\n\n                if (this.__state === BREAK || ret === BREAK) {\n                    return;\n                }\n                continue;\n            }\n\n            if (element.node) {\n\n                ret = this.__execute(visitor.enter, element);\n\n                if (this.__state === BREAK || ret === BREAK) {\n                    return;\n                }\n\n                worklist.push(sentinel);\n                leavelist.push(element);\n\n                if (this.__state === SKIP || ret === SKIP) {\n                    continue;\n                }\n\n                node = element.node;\n                nodeType = node.type || element.wrap;\n                candidates = this.__keys[nodeType];\n                if (!candidates) {\n                    if (this.__fallback) {\n                        candidates = objectKeys(node);\n                    } else {\n                        throw new Error('Unknown node type ' + nodeType + '.');\n                    }\n                }\n\n                current = candidates.length;\n                while ((current -= 1) >= 0) {\n                    key = candidates[current];\n                    candidate = node[key];\n                    if (!candidate) {\n                        continue;\n                    }\n\n                    if (isArray(candidate)) {\n                        current2 = candidate.length;\n                        while ((current2 -= 1) >= 0) {\n                            if (!candidate[current2]) {\n                                continue;\n                            }\n                            if (isProperty(nodeType, candidates[current])) {\n                                element = new Element(candidate[current2], [key, current2], 'Property', null);\n                            } else if (isNode(candidate[current2])) {\n                                element = new Element(candidate[current2], [key, current2], null, null);\n                            } else {\n                                continue;\n                            }\n                            worklist.push(element);\n                        }\n                    } else if (isNode(candidate)) {\n                        worklist.push(new Element(candidate, key, null, null));\n                    }\n                }\n            }\n        }\n    };\n\n    Controller.prototype.replace = function replace(root, visitor) {\n        function removeElem(element) {\n            var i,\n                key,\n                nextElem,\n                parent;\n\n            if (element.ref.remove()) {\n                // When the reference is an element of an array.\n                key = element.ref.key;\n                parent = element.ref.parent;\n\n                // If removed from array, then decrease following items' keys.\n                i = worklist.length;\n                while (i--) {\n                    nextElem = worklist[i];\n                    if (nextElem.ref && nextElem.ref.parent === parent) {\n                        if  (nextElem.ref.key < key) {\n                            break;\n                        }\n                        --nextElem.ref.key;\n                    }\n                }\n            }\n        }\n\n        var worklist,\n            leavelist,\n            node,\n            nodeType,\n            target,\n            element,\n            current,\n            current2,\n            candidates,\n            candidate,\n            sentinel,\n            outer,\n            key;\n\n        this.__initialize(root, visitor);\n\n        sentinel = {};\n\n        // reference\n        worklist = this.__worklist;\n        leavelist = this.__leavelist;\n\n        // initialize\n        outer = {\n            root: root\n        };\n        element = new Element(root, null, null, new Reference(outer, 'root'));\n        worklist.push(element);\n        leavelist.push(element);\n\n        while (worklist.length) {\n            element = worklist.pop();\n\n            if (element === sentinel) {\n                element = leavelist.pop();\n\n                target = this.__execute(visitor.leave, element);\n\n                // node may be replaced with null,\n                // so distinguish between undefined and null in this place\n                if (target !== undefined && target !== BREAK && target !== SKIP && target !== REMOVE) {\n                    // replace\n                    element.ref.replace(target);\n                }\n\n                if (this.__state === REMOVE || target === REMOVE) {\n                    removeElem(element);\n                }\n\n                if (this.__state === BREAK || target === BREAK) {\n                    return outer.root;\n                }\n                continue;\n            }\n\n            target = this.__execute(visitor.enter, element);\n\n            // node may be replaced with null,\n            // so distinguish between undefined and null in this place\n            if (target !== undefined && target !== BREAK && target !== SKIP && target !== REMOVE) {\n                // replace\n                element.ref.replace(target);\n                element.node = target;\n            }\n\n            if (this.__state === REMOVE || target === REMOVE) {\n                removeElem(element);\n                element.node = null;\n            }\n\n            if (this.__state === BREAK || target === BREAK) {\n                return outer.root;\n            }\n\n            // node may be null\n            node = element.node;\n            if (!node) {\n                continue;\n            }\n\n            worklist.push(sentinel);\n            leavelist.push(element);\n\n            if (this.__state === SKIP || target === SKIP) {\n                continue;\n            }\n\n            nodeType = node.type || element.wrap;\n            candidates = this.__keys[nodeType];\n            if (!candidates) {\n                if (this.__fallback) {\n                    candidates = objectKeys(node);\n                } else {\n                    throw new Error('Unknown node type ' + nodeType + '.');\n                }\n            }\n\n            current = candidates.length;\n            while ((current -= 1) >= 0) {\n                key = candidates[current];\n                candidate = node[key];\n                if (!candidate) {\n                    continue;\n                }\n\n                if (isArray(candidate)) {\n                    current2 = candidate.length;\n                    while ((current2 -= 1) >= 0) {\n                        if (!candidate[current2]) {\n                            continue;\n                        }\n                        if (isProperty(nodeType, candidates[current])) {\n                            element = new Element(candidate[current2], [key, current2], 'Property', new Reference(candidate, current2));\n                        } else if (isNode(candidate[current2])) {\n                            element = new Element(candidate[current2], [key, current2], null, new Reference(candidate, current2));\n                        } else {\n                            continue;\n                        }\n                        worklist.push(element);\n                    }\n                } else if (isNode(candidate)) {\n                    worklist.push(new Element(candidate, key, null, new Reference(node, key)));\n                }\n            }\n        }\n\n        return outer.root;\n    };\n\n    function traverse(root, visitor) {\n        var controller = new Controller();\n        return controller.traverse(root, visitor);\n    }\n\n    function replace(root, visitor) {\n        var controller = new Controller();\n        return controller.replace(root, visitor);\n    }\n\n    function extendCommentRange(comment, tokens) {\n        var target;\n\n        target = upperBound(tokens, function search(token) {\n            return token.range[0] > comment.range[0];\n        });\n\n        comment.extendedRange = [comment.range[0], comment.range[1]];\n\n        if (target !== tokens.length) {\n            comment.extendedRange[1] = tokens[target].range[0];\n        }\n\n        target -= 1;\n        if (target >= 0) {\n            comment.extendedRange[0] = tokens[target].range[1];\n        }\n\n        return comment;\n    }\n\n    function attachComments(tree, providedComments, tokens) {\n        // At first, we should calculate extended comment ranges.\n        var comments = [], comment, len, i, cursor;\n\n        if (!tree.range) {\n            throw new Error('attachComments needs range information');\n        }\n\n        // tokens array is empty, we attach comments to tree as 'leadingComments'\n        if (!tokens.length) {\n            if (providedComments.length) {\n                for (i = 0, len = providedComments.length; i < len; i += 1) {\n                    comment = deepCopy(providedComments[i]);\n                    comment.extendedRange = [0, tree.range[0]];\n                    comments.push(comment);\n                }\n                tree.leadingComments = comments;\n            }\n            return tree;\n        }\n\n        for (i = 0, len = providedComments.length; i < len; i += 1) {\n            comments.push(extendCommentRange(deepCopy(providedComments[i]), tokens));\n        }\n\n        // This is based on John Freeman's implementation.\n        cursor = 0;\n        traverse(tree, {\n            enter: function (node) {\n                var comment;\n\n                while (cursor < comments.length) {\n                    comment = comments[cursor];\n                    if (comment.extendedRange[1] > node.range[0]) {\n                        break;\n                    }\n\n                    if (comment.extendedRange[1] === node.range[0]) {\n                        if (!node.leadingComments) {\n                            node.leadingComments = [];\n                        }\n                        node.leadingComments.push(comment);\n                        comments.splice(cursor, 1);\n                    } else {\n                        cursor += 1;\n                    }\n                }\n\n                // already out of owned node\n                if (cursor === comments.length) {\n                    return VisitorOption.Break;\n                }\n\n                if (comments[cursor].extendedRange[0] > node.range[1]) {\n                    return VisitorOption.Skip;\n                }\n            }\n        });\n\n        cursor = 0;\n        traverse(tree, {\n            leave: function (node) {\n                var comment;\n\n                while (cursor < comments.length) {\n                    comment = comments[cursor];\n                    if (node.range[1] < comment.extendedRange[0]) {\n                        break;\n                    }\n\n                    if (node.range[1] === comment.extendedRange[0]) {\n                        if (!node.trailingComments) {\n                            node.trailingComments = [];\n                        }\n                        node.trailingComments.push(comment);\n                        comments.splice(cursor, 1);\n                    } else {\n                        cursor += 1;\n                    }\n                }\n\n                // already out of owned node\n                if (cursor === comments.length) {\n                    return VisitorOption.Break;\n                }\n\n                if (comments[cursor].extendedRange[0] > node.range[1]) {\n                    return VisitorOption.Skip;\n                }\n            }\n        });\n\n        return tree;\n    }\n\n    exports.version = require('./package.json').version;\n    exports.Syntax = Syntax;\n    exports.traverse = traverse;\n    exports.replace = replace;\n    exports.attachComments = attachComments;\n    exports.VisitorKeys = VisitorKeys;\n    exports.VisitorOption = VisitorOption;\n    exports.Controller = Controller;\n    exports.cloneEnvironment = function () { return clone({}); };\n\n    return exports;\n}(exports));\n/* vim: set sw=4 ts=4 et tw=80 : */\n"]}