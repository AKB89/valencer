{"version":3,"sources":["lazy.js"],"names":[],"mappings":"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","file":"lazy-compiled.js","sourcesContent":["'use strict';\n\nvar map        = require('es5-ext/object/map')\n  , isCallable = require('es5-ext/object/is-callable')\n  , validValue = require('es5-ext/object/valid-value')\n  , contains   = require('es5-ext/string/#/contains')\n\n  , call = Function.prototype.call\n  , defineProperty = Object.defineProperty\n  , getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor\n  , getPrototypeOf = Object.getPrototypeOf\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , cacheDesc = { configurable: false, enumerable: false, writable: false,\n\t\tvalue: null }\n  , define;\n\ndefine = function (name, options) {\n\tvar value, dgs, cacheName, desc, writable = false, resolvable\n\t  , flat;\n\toptions = Object(validValue(options));\n\tcacheName = options.cacheName;\n\tflat = options.flat;\n\tif (cacheName == null) cacheName = name;\n\tdelete options.cacheName;\n\tvalue = options.value;\n\tresolvable = isCallable(value);\n\tdelete options.value;\n\tdgs = { configurable: Boolean(options.configurable),\n\t\tenumerable: Boolean(options.enumerable) };\n\tif (name !== cacheName) {\n\t\tdgs.get = function () {\n\t\t\tif (hasOwnProperty.call(this, cacheName)) return this[cacheName];\n\t\t\tcacheDesc.value = resolvable ? call.call(value, this, options) : value;\n\t\t\tcacheDesc.writable = writable;\n\t\t\tdefineProperty(this, cacheName, cacheDesc);\n\t\t\tcacheDesc.value = null;\n\t\t\tif (desc) defineProperty(this, name, desc);\n\t\t\treturn this[cacheName];\n\t\t};\n\t} else if (!flat) {\n\t\tdgs.get = function self() {\n\t\t\tvar ownDesc;\n\t\t\tif (hasOwnProperty.call(this, name)) {\n\t\t\t\townDesc = getOwnPropertyDescriptor(this, name);\n\t\t\t\t// It happens in Safari, that getter is still called after property\n\t\t\t\t// was defined with a value, following workarounds that\n\t\t\t\tif (ownDesc.hasOwnProperty('value')) return ownDesc.value;\n\t\t\t\tif ((typeof ownDesc.get === 'function') && (ownDesc.get !== self)) {\n\t\t\t\t\treturn ownDesc.get.call(this);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tdesc.value = resolvable ? call.call(value, this, options) : value;\n\t\t\tdefineProperty(this, name, desc);\n\t\t\tdesc.value = null;\n\t\t\treturn this[name];\n\t\t};\n\t} else {\n\t\tdgs.get = function self() {\n\t\t\tvar base = this, ownDesc;\n\t\t\tif (hasOwnProperty.call(this, name)) {\n\t\t\t\t// It happens in Safari, that getter is still called after property\n\t\t\t\t// was defined with a value, following workarounds that\n\t\t\t\townDesc = getOwnPropertyDescriptor(this, name);\n\t\t\t\tif (ownDesc.hasOwnProperty('value')) return ownDesc.value;\n\t\t\t\tif ((typeof ownDesc.get === 'function') && (ownDesc.get !== self)) {\n\t\t\t\t\treturn ownDesc.get.call(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (!hasOwnProperty.call(base, name)) base = getPrototypeOf(base);\n\t\t\tdesc.value = resolvable ? call.call(value, base, options) : value;\n\t\t\tdefineProperty(base, name, desc);\n\t\t\tdesc.value = null;\n\t\t\treturn base[name];\n\t\t};\n\t}\n\tdgs.set = function (value) {\n\t\tdgs.get.call(this);\n\t\tthis[cacheName] = value;\n\t};\n\tif (options.desc) {\n\t\tdesc = {\n\t\t\tconfigurable: contains.call(options.desc, 'c'),\n\t\t\tenumerable: contains.call(options.desc, 'e')\n\t\t};\n\t\tif (cacheName === name) {\n\t\t\tdesc.writable = contains.call(options.desc, 'w');\n\t\t\tdesc.value = null;\n\t\t} else {\n\t\t\twritable = contains.call(options.desc, 'w');\n\t\t\tdesc.get = dgs.get;\n\t\t\tdesc.set = dgs.set;\n\t\t}\n\t\tdelete options.desc;\n\t} else if (cacheName === name) {\n\t\tdesc = {\n\t\t\tconfigurable: Boolean(options.configurable),\n\t\t\tenumerable: Boolean(options.enumerable),\n\t\t\twritable: Boolean(options.writable),\n\t\t\tvalue: null\n\t\t};\n\t}\n\tdelete options.configurable;\n\tdelete options.enumerable;\n\tdelete options.writable;\n\treturn dgs;\n};\n\nmodule.exports = function (props) {\n\treturn map(props, function (desc, name) { return define(name, desc); });\n};\n"]}