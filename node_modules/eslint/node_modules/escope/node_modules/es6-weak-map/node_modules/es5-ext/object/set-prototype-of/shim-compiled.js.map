{"version":3,"sources":["shim.js"],"names":[],"mappings":";;;AAGA;;AAEA,IAAI,WAAgB,QAAQ,cAAR,CAApB;IACI,QAAgB,QAAQ,gBAAR,CADpB;IAGI,gBAAgB,OAAO,SAAP,CAAiB,aAHrC;IAII,iBAAiB,OAAO,cAJ5B;IAKI,WAAW,EAAE,cAAc,IAAhB,EAAsB,YAAY,KAAlC,EAAyC,UAAU,IAAnD;AACb,QAAO,SADM,EALf;IAOI,QAPJ;;AASA,WAAW,kBAAU,GAAV,EAAe,SAAf,EAA0B;AACpC,OAAM,GAAN;AACA,KAAK,cAAc,IAAf,IAAwB,SAAS,SAAT,CAA5B,EAAiD,OAAO,GAAP;AACjD,OAAM,IAAI,SAAJ,CAAc,qCAAd,CAAN;AACA,CAJD;;AAMA,OAAO,OAAP,GAAkB,UAAU,MAAV,EAAkB;AACnC,KAAI,EAAJ,EAAQ,GAAR;AACA,KAAI,CAAC,MAAL,EAAa,OAAO,IAAP;AACb,KAAI,OAAO,KAAP,KAAiB,CAArB,EAAwB;AACvB,MAAI,OAAO,GAAX,EAAgB;AACf,SAAM,OAAO,GAAb;AACA,QAAK,YAAU,GAAV,EAAe,SAAf,EAA0B;AAC9B,QAAI,IAAJ,CAAS,SAAS,GAAT,EAAc,SAAd,CAAT,EAAmC,SAAnC;AACA,WAAO,GAAP;AACA,IAHD;AAIA,GAND,MAMO;AACN,QAAK,YAAU,GAAV,EAAe,SAAf,EAA0B;AAC9B,aAAS,GAAT,EAAc,SAAd,EAAyB,SAAzB,GAAqC,SAArC;AACA,WAAO,GAAP;AACA,IAHD;AAIA;AACD,EAbD,MAaO;AACN,OAAK,SAAS,IAAT,CAAc,GAAd,EAAmB,SAAnB,EAA8B;AAClC,OAAI,UAAJ;AACA,YAAS,GAAT,EAAc,SAAd;AACA,gBAAa,cAAc,IAAd,CAAmB,KAAK,YAAxB,EAAsC,GAAtC,CAAb;AACA,OAAI,UAAJ,EAAgB,OAAO,KAAK,YAAL,CAAkB,SAAzB;AAChB,OAAI,cAAc,IAAlB,EAAwB,YAAY,KAAK,YAAjB;AACxB,OAAI,SAAJ,GAAgB,SAAhB;AACA,OAAI,UAAJ,EAAgB,eAAe,KAAK,YAApB,EAAkC,WAAlC,EAA+C,QAA/C;AAChB,UAAO,GAAP;AACA,GATD;AAUA;AACD,QAAO,OAAO,cAAP,CAAsB,EAAtB,EAA0B,OAA1B,EAAmC,EAAE,cAAc,KAAhB;AACzC,cAAY,KAD6B,EACtB,UAAU,KADY,EACL,OAAO,OAAO,KADT,EAAnC,CAAP;AAEA,CA9BiB,CA8Bf,YAAY;AACd,KAAI,IAAI,OAAO,MAAP,CAAc,IAAd,CAAR;KAA6B,IAAI,EAAjC;KAAqC,GAArC;KACI,OAAO,OAAO,wBAAP,CAAgC,OAAO,SAAvC,EAAkD,WAAlD,CADX;;AAGA,KAAI,IAAJ,EAAU;AACT,MAAI;AACH,SAAM,KAAK,GAAX,C;AACA,OAAI,IAAJ,CAAS,CAAT,EAAY,CAAZ;AACA,GAHD,CAGE,OAAO,MAAP,EAAe,CAAG;AACpB,MAAI,OAAO,cAAP,CAAsB,CAAtB,MAA6B,CAAjC,EAAoC,OAAO,EAAE,KAAK,GAAP,EAAY,OAAO,CAAnB,EAAP;AACpC;;AAED,GAAE,SAAF,GAAc,CAAd;AACA,KAAI,OAAO,cAAP,CAAsB,CAAtB,MAA6B,CAAjC,EAAoC,OAAO,EAAE,OAAO,CAAT,EAAP;;AAEpC,KAAI,EAAJ;AACA,GAAE,SAAF,GAAc,CAAd;AACA,KAAI,OAAO,cAAP,CAAsB,CAAtB,MAA6B,CAAjC,EAAoC,OAAO,EAAE,OAAO,CAAT,EAAP;;AAEpC,QAAO,KAAP;AACA,CApBE,EA9Be,CAAlB;;AAoDA,QAAQ,WAAR","file":"shim-compiled.js","sourcesContent":["// Big thanks to @WebReflection for sorting this out\n// https://gist.github.com/WebReflection/5593554\n\n'use strict';\n\nvar isObject      = require('../is-object')\n  , value         = require('../valid-value')\n\n  , isPrototypeOf = Object.prototype.isPrototypeOf\n  , defineProperty = Object.defineProperty\n  , nullDesc = { configurable: true, enumerable: false, writable: true,\n\t\tvalue: undefined }\n  , validate;\n\nvalidate = function (obj, prototype) {\n\tvalue(obj);\n\tif ((prototype === null) || isObject(prototype)) return obj;\n\tthrow new TypeError('Prototype must be null or an object');\n};\n\nmodule.exports = (function (status) {\n\tvar fn, set;\n\tif (!status) return null;\n\tif (status.level === 2) {\n\t\tif (status.set) {\n\t\t\tset = status.set;\n\t\t\tfn = function (obj, prototype) {\n\t\t\t\tset.call(validate(obj, prototype), prototype);\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t} else {\n\t\t\tfn = function (obj, prototype) {\n\t\t\t\tvalidate(obj, prototype).__proto__ = prototype;\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t}\n\t} else {\n\t\tfn = function self(obj, prototype) {\n\t\t\tvar isNullBase;\n\t\t\tvalidate(obj, prototype);\n\t\t\tisNullBase = isPrototypeOf.call(self.nullPolyfill, obj);\n\t\t\tif (isNullBase) delete self.nullPolyfill.__proto__;\n\t\t\tif (prototype === null) prototype = self.nullPolyfill;\n\t\t\tobj.__proto__ = prototype;\n\t\t\tif (isNullBase) defineProperty(self.nullPolyfill, '__proto__', nullDesc);\n\t\t\treturn obj;\n\t\t};\n\t}\n\treturn Object.defineProperty(fn, 'level', { configurable: false,\n\t\tenumerable: false, writable: false, value: status.level });\n}((function () {\n\tvar x = Object.create(null), y = {}, set\n\t  , desc = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__');\n\n\tif (desc) {\n\t\ttry {\n\t\t\tset = desc.set; // Opera crashes at this point\n\t\t\tset.call(x, y);\n\t\t} catch (ignore) { }\n\t\tif (Object.getPrototypeOf(x) === y) return { set: set, level: 2 };\n\t}\n\n\tx.__proto__ = y;\n\tif (Object.getPrototypeOf(x) === y) return { level: 2 };\n\n\tx = {};\n\tx.__proto__ = y;\n\tif (Object.getPrototypeOf(x) === y) return { level: 1 };\n\n\treturn false;\n}())));\n\nrequire('../create');\n"]}