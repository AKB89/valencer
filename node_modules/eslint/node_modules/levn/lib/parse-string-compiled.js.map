{"version":3,"sources":["parse-string.js"],"names":[],"mappings":";;;AACA,CAAC,YAAU;AACT,MAAI,MAAJ,EAAY,OAAZ,EAAqB,UAArB;AACA,WAAS,QAAQ,YAAR,EAAsB,MAA/B;AACA,WAAS,SAAT,CAAmB,MAAnB,EAA2B,EAA3B,EAA8B;AAC5B,QAAI,OAAO,CAAP,MAAc,EAAlB,EAAsB;AACpB,aAAO,OAAO,KAAP,EAAP;AACD,KAFD,MAEO;AACL,YAAM,IAAI,KAAJ,CAAU,eAAe,EAAf,GAAoB,cAApB,GAAqC,OAAO,CAAP,CAArC,GAAiD,eAAjD,GAAmE,KAAK,SAAL,CAAe,MAAf,CAAnE,GAA4F,GAAtG,CAAN;AACD;AACF;AACD,WAAS,cAAT,CAAwB,MAAxB,EAAgC,EAAhC,EAAmC;AACjC,QAAI,OAAO,CAAP,MAAc,EAAlB,EAAsB;AACpB,aAAO,OAAO,KAAP,EAAP;AACD;AACF;AACD,WAAS,WAAT,CAAqB,MAArB,EAA6B,IAA7B,EAAmC,aAAnC,EAAiD;AAC/C,QAAI,IAAJ,EAAU,KAAV,EAAiB,MAAjB,EAAyB,SAAzB;AACA,WAAO,KAAK,CAAL,CAAP,EAAgB,QAAQ,KAAK,CAAL,CAAxB;AACA,QAAI,aAAJ,EAAmB;AACjB,gBAAU,MAAV,EAAkB,IAAlB;AACD;AACD,aAAS,EAAT;AACA,gBAAY,OAAO,gBAAgB,KAAhB,GAAwB,EAA/B,CAAZ;AACA,WAAO,OAAO,MAAP,IAAkB,iBAAiB,OAAO,CAAP,MAAc,KAAxD,EAAgE;AAC9D,aAAO,IAAP,CAAY,eAAe,MAAf,EAAuB,SAAvB,CAAZ;AACA,qBAAe,MAAf,EAAuB,GAAvB;AACD;AACD,QAAI,aAAJ,EAAmB;AACjB,gBAAU,MAAV,EAAkB,KAAlB;AACD;AACD,WAAO,MAAP;AACD;AACD,WAAS,YAAT,CAAsB,MAAtB,EAA8B,aAA9B,EAA4C;AAC1C,WAAO,YAAY,MAAZ,EAAoB,CAAC,GAAD,EAAM,GAAN,CAApB,EAAgC,aAAhC,CAAP;AACD;AACD,WAAS,YAAT,CAAsB,MAAtB,EAA8B,aAA9B,EAA4C;AAC1C,WAAO,YAAY,MAAZ,EAAoB,CAAC,GAAD,EAAM,GAAN,CAApB,EAAgC,aAAhC,CAAP;AACD;AACD,WAAS,aAAT,CAAuB,MAAvB,EAA+B,aAA/B,EAA6C;AAC3C,QAAI,MAAJ,EAAY,SAAZ,EAAuB,GAAvB;AACA,QAAI,aAAJ,EAAmB;AACjB,gBAAU,MAAV,EAAkB,GAAlB;AACD;AACD,aAAS,EAAT;AACA,gBAAY,OAAO,gBAAgB,GAAhB,GAAsB,EAA7B,CAAZ;AACA,WAAO,OAAO,MAAP,KAAkB,CAAC,aAAD,IAAkB,OAAO,CAAP,MAAc,GAAlD,CAAP,EAA+D;AAC7D,YAAM,aAAa,MAAb,EAAqB,GAArB,CAAN;AACA,gBAAU,MAAV,EAAkB,GAAlB;AACA,aAAO,GAAP,IAAc,eAAe,MAAf,EAAuB,SAAvB,CAAd;AACA,qBAAe,MAAf,EAAuB,GAAvB;AACD;AACD,QAAI,aAAJ,EAAmB;AACjB,gBAAU,MAAV,EAAkB,GAAlB;AACD;AACD,WAAO,MAAP;AACD;AACD,WAAS,YAAT,CAAsB,MAAtB,EAA8B,SAA9B,EAAwC;AACtC,QAAI,GAAJ;AACA,iBAAa,IAAb,KAAsB,YAAY,EAAlC;AACA,UAAM,EAAN;AACA,WAAO,OAAO,MAAP,IAAiB,CAAC,CAAD,KAAO,UAAU,OAAV,CAAkB,OAAO,CAAP,CAAlB,CAA/B,EAA6D;AAC3D,aAAO,OAAO,KAAP,EAAP;AACD;AACD,WAAO,GAAP;AACD;AACD,WAAS,cAAT,CAAwB,MAAxB,EAAgC,SAAhC,EAA0C;AACxC,YAAQ,OAAO,CAAP,CAAR;AACA,WAAK,GAAL;AACE,eAAO,aAAa,MAAb,EAAqB,IAArB,CAAP;AACF,WAAK,GAAL;AACE,eAAO,aAAa,MAAb,EAAqB,IAArB,CAAP;AACF,WAAK,GAAL;AACE,eAAO,cAAc,MAAd,EAAsB,IAAtB,CAAP;AACF;AACE,eAAO,aAAa,MAAb,EAAqB,SAArB,CAAP;AARF;AAUD;AACD,WAAS,eAAT,CAAyB,MAAzB,EAAiC,KAAjC,EAAwC,OAAxC,EAAgD;AAC9C,QAAI,IAAJ,EAAU,IAAV,EAAgB,SAAhB,EAA2B,UAA3B,EAAuC,MAAvC,EAA+C,WAA/C,EAA4D,EAA5D,EAAgE,EAAhE;AACA,WAAO,MAAM,CAAN,CAAP,EAAiB,OAAO,KAAK,IAA7B,EAAmC,YAAY,KAAK,SAApD;AACA,iBAAa,OAAO,MAAP,EAAb;AACA,QAAI,CAAC,QAAQ,QAAT,IAAqB,MAAM,MAAN,KAAiB,CAAtC,KAA6C,CAAC,IAAD,IAAS,SAAV,IAAyB,SAAS,OAAT,IAAoB,SAAS,QAAlG,CAAJ,EAAkH;AAChH,eAAS,cAAc,OAAd,IAAyB,SAAS,OAAlC,GACL,aAAa,MAAb,EAAqB,OAAO,CAAP,MAAc,GAAnC,CADK,GAEL,cAAc,OAAd,GACE,aAAa,MAAb,EAAqB,OAAO,CAAP,MAAc,GAAnC,CADF,GAEE,cAAc,MAAd,EAAsB,OAAO,CAAP,MAAc,GAApC,CAJN;AAKA,oBAAc,OAAO,MAAP,GAAgB,eAAe,cAAc,OAAd,IAAyB,SAAS,OAAlC,IACxC,KAAK,UAAL,EAAiB,GAAG,OAAH,CAAW,GAAX,CAAjB,EAAkC,GAAG,IAAH,CAAQ,GAAR,CAAlC,EAAgD,EADR,KAExC,KAAK,UAAL,EAAiB,GAAG,OAAH,CAAW,GAAX,CAAjB,EAAkC,GAAG,IAAH,CAAQ,GAAR,CAAlC,EAAgD,EAFR,CAAf,CAAhB,GAE8C,MAF5D;AAGD,KATD,MASO;AACL,oBAAc,eAAe,MAAf,CAAd;AACD;AACD,WAAO,WAAP;AACD;AACD,YAAU,eAAe,MAAzB;AACA,eAAa,OAAO,uFAAuF,OAAvF,GAAiG,WAAjG,GAA+G,OAA/G,GAAyH,eAAzH,GAA2I,OAA3I,GAAqJ,YAA5J,CAAb;AACA,SAAO,OAAP,GAAiB,UAAS,KAAT,EAAgB,MAAhB,EAAwB,OAAxB,EAAgC;AAC/C,QAAI,MAAJ,EAAY,IAAZ;AACA,eAAW,IAAX,KAAoB,UAAU,EAA9B;AACA,QAAI,CAAC,QAAQ,QAAT,IAAqB,MAAM,MAAN,KAAiB,CAAtC,IAA2C,MAAM,CAAN,EAAS,IAAT,KAAkB,QAAjE,EAA2E;AACzE,aAAO,MAAM,OAAO,OAAP,CAAe,MAAf,EAAuB,OAAvB,CAAN,GAAwC,GAA/C;AACD;AACD,aAAS,OAAO,IAAP,EAAa,OAAO,KAAP,CAAa,UAAb,CAAb,CAAT;AACA,WAAO,gBAAgB,MAAhB,EAAwB,KAAxB,EAA+B,OAA/B,CAAP;AACA,QAAI,CAAC,IAAL,EAAW;AACT,YAAM,IAAI,KAAJ,CAAU,oBAAoB,MAApB,GAA6B,IAAvC,CAAN;AACD;AACD,WAAO,IAAP;AACD,GAZD;AAaA,WAAS,IAAT,CAAc,CAAd,EAAgB;AAAE,WAAO,CAAC,CAAR;AAAY;AAC/B,CA/GD,EA+GG,IA/GH","file":"parse-string-compiled.js","sourcesContent":["// Generated by LiveScript 1.4.0\n(function(){\n  var reject, special, tokenRegex;\n  reject = require('prelude-ls').reject;\n  function consumeOp(tokens, op){\n    if (tokens[0] === op) {\n      return tokens.shift();\n    } else {\n      throw new Error(\"Expected '\" + op + \"', but got '\" + tokens[0] + \"' instead in \" + JSON.stringify(tokens) + \".\");\n    }\n  }\n  function maybeConsumeOp(tokens, op){\n    if (tokens[0] === op) {\n      return tokens.shift();\n    }\n  }\n  function consumeList(tokens, arg$, hasDelimiters){\n    var open, close, result, untilTest;\n    open = arg$[0], close = arg$[1];\n    if (hasDelimiters) {\n      consumeOp(tokens, open);\n    }\n    result = [];\n    untilTest = \",\" + (hasDelimiters ? close : '');\n    while (tokens.length && (hasDelimiters && tokens[0] !== close)) {\n      result.push(consumeElement(tokens, untilTest));\n      maybeConsumeOp(tokens, ',');\n    }\n    if (hasDelimiters) {\n      consumeOp(tokens, close);\n    }\n    return result;\n  }\n  function consumeArray(tokens, hasDelimiters){\n    return consumeList(tokens, ['[', ']'], hasDelimiters);\n  }\n  function consumeTuple(tokens, hasDelimiters){\n    return consumeList(tokens, ['(', ')'], hasDelimiters);\n  }\n  function consumeFields(tokens, hasDelimiters){\n    var result, untilTest, key;\n    if (hasDelimiters) {\n      consumeOp(tokens, '{');\n    }\n    result = {};\n    untilTest = \",\" + (hasDelimiters ? '}' : '');\n    while (tokens.length && (!hasDelimiters || tokens[0] !== '}')) {\n      key = consumeValue(tokens, ':');\n      consumeOp(tokens, ':');\n      result[key] = consumeElement(tokens, untilTest);\n      maybeConsumeOp(tokens, ',');\n    }\n    if (hasDelimiters) {\n      consumeOp(tokens, '}');\n    }\n    return result;\n  }\n  function consumeValue(tokens, untilTest){\n    var out;\n    untilTest == null && (untilTest = '');\n    out = '';\n    while (tokens.length && -1 === untilTest.indexOf(tokens[0])) {\n      out += tokens.shift();\n    }\n    return out;\n  }\n  function consumeElement(tokens, untilTest){\n    switch (tokens[0]) {\n    case '[':\n      return consumeArray(tokens, true);\n    case '(':\n      return consumeTuple(tokens, true);\n    case '{':\n      return consumeFields(tokens, true);\n    default:\n      return consumeValue(tokens, untilTest);\n    }\n  }\n  function consumeTopLevel(tokens, types, options){\n    var ref$, type, structure, origTokens, result, finalResult, x$, y$;\n    ref$ = types[0], type = ref$.type, structure = ref$.structure;\n    origTokens = tokens.concat();\n    if (!options.explicit && types.length === 1 && ((!type && structure) || (type === 'Array' || type === 'Object'))) {\n      result = structure === 'array' || type === 'Array'\n        ? consumeArray(tokens, tokens[0] === '[')\n        : structure === 'tuple'\n          ? consumeTuple(tokens, tokens[0] === '(')\n          : consumeFields(tokens, tokens[0] === '{');\n      finalResult = tokens.length ? consumeElement(structure === 'array' || type === 'Array'\n        ? (x$ = origTokens, x$.unshift('['), x$.push(']'), x$)\n        : (y$ = origTokens, y$.unshift('('), y$.push(')'), y$)) : result;\n    } else {\n      finalResult = consumeElement(tokens);\n    }\n    return finalResult;\n  }\n  special = /\\[\\]\\(\\)}{:,/.source;\n  tokenRegex = RegExp('(\"(?:\\\\\\\\\"|[^\"])*\")|(\\'(?:\\\\\\\\\\'|[^\\'])*\\')|(/(?:\\\\\\\\/|[^/])*/[a-zA-Z]*)|(#.*#)|([' + special + '])|([^\\\\s' + special + '](?:\\\\s*[^\\\\s' + special + ']+)*)|\\\\s*');\n  module.exports = function(types, string, options){\n    var tokens, node;\n    options == null && (options = {});\n    if (!options.explicit && types.length === 1 && types[0].type === 'String') {\n      return \"'\" + string.replace(/\\\\'/g, \"\\\\\\\\'\") + \"'\";\n    }\n    tokens = reject(not$, string.split(tokenRegex));\n    node = consumeTopLevel(tokens, types, options);\n    if (!node) {\n      throw new Error(\"Error parsing '\" + string + \"'.\");\n    }\n    return node;\n  };\n  function not$(x){ return !x; }\n}).call(this);\n"]}