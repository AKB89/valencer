{"version":3,"sources":["parse-discard.js"],"names":[],"mappings":"AAAA,IAAI,MAAM,QAAQ,KAAR,CAAV;IACI,MAAM,QAAQ,WAAR,CADV;IAEI,KAAK,QAAQ,IAAR,CAFT;IAGI,OAAO,QAAQ,MAAR,CAHX;IAII,OAAO,KAAK,OAAL,CAAa,SAAb,EAAwB,gBAAxB,CAJX;;AAMA,IAAI,IAAJ,CAAS,aAAT,EAAwB,UAAU,CAAV,EAAa;AACnC,MAAI,SAAS,IAAI,KAAJ,EAAb;AACA,MAAI,QAAQ,CAAZ;AACA,MAAI,YAAY,CAAhB;;AAEA,SAAO,EAAP,CAAU,KAAV,EAAiB,YAAY;;AAE3B,MAAE,MAAF,CAAS,QAAM,GAAf,EAAmB,SAAnB,EAA6B,kCAA7B;;AAEA,MAAE,GAAF;AACD,GALD;;AAOA,KAAG,gBAAH,CAAoB,IAApB,EACG,IADH,CACQ,MADR,EAEG,EAFH,CAEM,OAFN,EAEc,UAAS,KAAT,EAAe;AACzB,QAAG,MAAM,IAAN,KAAe,OAAlB,EAA2B,MAAM,KAAN;;AAE3B,aAAS,MAAM,IAAf;AACA,UAAM,EAAN,CAAS,MAAT,EAAgB,UAAS,IAAT,EAAc;AAC5B,mBAAa,KAAK,MAAlB;AACD,KAFD;AAGD,GATH;AAUD,CAtBD","file":"parse-discard-compiled.js","sourcesContent":["var tap = require(\"tap\")\n  , tar = require(\"../tar.js\")\n  , fs = require(\"fs\")\n  , path = require(\"path\")\n  , file = path.resolve(__dirname, \"fixtures/c.tar\")\n\ntap.test(\"parser test\", function (t) {\n  var parser = tar.Parse()\n  var total = 0\n  var dataTotal = 0\n\n  parser.on(\"end\", function () {\n\n    t.equals(total-513,dataTotal,'should have discarded only c.txt')\n\n    t.end()\n  })\n\n  fs.createReadStream(file)\n    .pipe(parser)\n    .on('entry',function(entry){\n      if(entry.path === 'c.txt') entry.abort()\n      \n      total += entry.size;\n      entry.on('data',function(data){\n        dataTotal += data.length        \n      })\n    })\n})\n"]}