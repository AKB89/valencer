{"version":3,"sources":["clean.js"],"names":[],"mappings":"AAAA;;AAEA,OAAO,OAAP,GAAiB,UAAU,KAA3B;;AAEA,QAAQ,KAAR,GAAgB,gEAAhB;;AAEA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,KAAK,QAAQ,QAAR,CAAT;AACA,IAAI,SAAS,QAAQ,IAAR,EAAc,MAAd,IAAwB,QAAQ,MAAR,EAAgB,MAArD;AACA,IAAI,aAAa,QAAQ,sBAAR,CAAjB;;AAEA,SAAS,KAAT,CAAgB,GAAhB,EAAqB,IAArB,EAA2B,QAA3B,EAAqC;AACjC,QAAI,eAAe,KAAK,KAAL,CAAW,GAAG,YAAH,CAAgB,gBAAhB,CAAX,CAAnB;AACA,QAAI,OAAO,WAAW,QAAX,CAAoB,YAApB,EAAkC,IAAI,IAAtC,CAAX;AACA,QAAI,YAAY,KAAK,WAArB;AACA,WAAO,SAAP,EAAkB,UAAS,KAAT,EAAgB;AAC9B,YAAI,KAAJ,EAAW;AACP,gBAAI,CAAC,IAAI,IAAJ,CAAS,YAAd,EAA4B,QAAQ,GAAR,CAAY,MAAI,aAAa,IAAjB,GAAsB,iBAAlC,EAAqD,SAArD;AAC5B,mBAAO,GAAG,SAAH,EAAc,QAAd,CAAP;AACH;AACD,eAAO,UAAP;AACH,KAND;AAOH","file":"clean-compiled.js","sourcesContent":["\"use strict\";\n\nmodule.exports = exports = clean;\n\nexports.usage = 'Removes the entire folder containing the compiled .node module';\n\nvar fs = require('fs');\nvar rm = require('rimraf');\nvar exists = require('fs').exists || require('path').exists;\nvar versioning = require('./util/versioning.js');\n\nfunction clean (gyp, argv, callback) {\n    var package_json = JSON.parse(fs.readFileSync('./package.json'));\n    var opts = versioning.evaluate(package_json, gyp.opts);\n    var to_delete = opts.module_path;\n    exists(to_delete, function(found) {\n        if (found) {\n            if (!gyp.opts.silent_clean) console.log('['+package_json.name+'] Removing \"%s\"', to_delete);\n            return rm(to_delete, callback);\n        }\n        return callback();\n    });\n}\n"]}