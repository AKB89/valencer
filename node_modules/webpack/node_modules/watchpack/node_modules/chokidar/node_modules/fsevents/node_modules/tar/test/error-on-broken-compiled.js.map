{"version":3,"sources":["error-on-broken.js"],"names":[],"mappings":"AAAA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;;AAEA,IAAI,MAAM,QAAQ,KAAR,CAAV;;AAEA,IAAI,MAAM,QAAQ,WAAR,CAAV;;AAEA,IAAI,OAAO,KAAK,IAAL,CAAU,SAAV,EAAqB,2BAArB,CAAX;AACA,IAAI,SAAS,KAAK,IAAL,CAAU,SAAV,EAAqB,kBAArB,CAAb;;AAEA,IAAI,IAAJ,CAAS,UAAT,EAAqB,UAAU,CAAV,EAAa;AAChC,UAAQ,QAAR,EAAkB,IAAlB,CAAuB,YAAY,mBAAnC;AACA,IAAE,IAAF,CAAO,UAAP;AACA,IAAE,GAAF;AACD,CAJD;;AAMA,IAAI,IAAJ,CAAS,cAAT,EAAyB,UAAU,CAAV,EAAa;AACpC,MAAI,UAAU,IAAI,OAAJ,CAAY,MAAZ,CAAd;AACA,MAAI,MAAM,GAAG,gBAAH,CAAoB,IAApB,CAAV;;AAEA,MAAI,IAAJ,CAAS,KAAK,YAAL,EAAT,EAA8B,IAA9B,CAAmC,OAAnC;;AAEA,UAAQ,EAAR,CAAW,OAAX,EAAoB,UAAU,EAAV,EAAc;AAChC,MAAE,KAAF,CAAQ,GAAG,OAAX,EAAoB,gBAApB,EAAsC,eAAtC;AACA,MAAE,GAAF;AACD,GAHD;;AAKA,UAAQ,EAAR,CAAW,KAAX,EAAkB,YAAY;AAC5B,MAAE,IAAF,CAAO,2CAAP;AACA,MAAE,GAAF;AACD,GAHD;AAID,CAfD","file":"error-on-broken-compiled.js","sourcesContent":["var fs = require('fs')\nvar path = require('path')\nvar zlib = require('zlib')\n\nvar tap = require('tap')\n\nvar tar = require('../tar.js')\n\nvar file = path.join(__dirname, 'cb-never-called-1.0.1.tgz')\nvar target = path.join(__dirname, 'tmp/extract-test')\n\ntap.test('preclean', function (t) {\n  require('rimraf').sync(__dirname + '/tmp/extract-test')\n  t.pass('cleaned!')\n  t.end()\n})\n\ntap.test('extract test', function (t) {\n  var extract = tar.Extract(target)\n  var inp = fs.createReadStream(file)\n\n  inp.pipe(zlib.createGunzip()).pipe(extract)\n\n  extract.on('error', function (er) {\n    t.equal(er.message, 'unexpected eof', 'error noticed')\n    t.end()\n  })\n\n  extract.on('end', function () {\n    t.fail('shouldn\\'t reach this point due to errors')\n    t.end()\n  })\n})\n"]}