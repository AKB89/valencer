{"version":3,"sources":["basic.js"],"names":[],"mappings":"AAAA,IAAI,MAAM,QAAQ,KAAR,CAAV;IACI,cAAc,QAAQ,oBAAR,CADlB;;AAGA,IAAI,IAAJ,CAAS,YAAT,EAAuB,UAAU,CAAV,EAAa;AAClC,MAAI,IAAI,IAAI,WAAJ,CAAgB,EAAhB,CAAR;AACA,MAAI,KAAK,QAAQ,IAAR,CAAT;AACA,MAAI,OAAO,GAAG,gBAAH,CAAoB,UAApB,EAAgC,EAAC,UAAU,MAAX,EAAhC,CAAX;AACA,OAAK,IAAL,CAAU,CAAV;;AAEA,MAAI,IAAJ;AACA,IAAE,YAAF,CAAe,YAAY;AACzB,WAAO,GAAG,QAAH,CAAY,UAAZ,CAAP;AACD,GAFD,EAEG,uBAFH;;AAIA,MAAI,aAAa,CAAjB;AACA,IAAE,EAAF,CAAK,MAAL,EAAa,UAAU,CAAV,EAAa;AACxB,MAAE,KAAF,CAAQ,EAAE,MAAV,EAAkB,EAAlB,EAAsB,gCAAtB;AACA,MAAE,IAAF,CAAO,CAAP,EAAU,MAAV,EAAkB,iCAAlB;AACA,kBAAc,EAAE,MAAhB;AACD,GAJD;AAKA,IAAE,EAAF,CAAK,KAAL,EAAY,YAAY;AACtB,QAAI,gBAAgB,KAAK,IAAL,IAAa,KAAK,KAAK,IAAL,GAAY,EAA9B,CAApB;AACA,MAAE,KAAF,CAAQ,UAAR,EAAoB,aAApB,EAAmC,0BAAnC;AACA,MAAE,GAAF;AACD,GAJD;AAMD,CAvBD","file":"basic-compiled.js","sourcesContent":["var tap = require(\"tap\")\n  , BlockStream = require(\"../block-stream.js\")\n\ntap.test(\"basic test\", function (t) {\n  var b = new BlockStream(16)\n  var fs = require(\"fs\")\n  var fstr = fs.createReadStream(__filename, {encoding: \"utf8\"})\n  fstr.pipe(b)\n\n  var stat\n  t.doesNotThrow(function () {\n    stat = fs.statSync(__filename)\n  }, \"stat should not throw\")\n\n  var totalBytes = 0\n  b.on(\"data\", function (c) {\n    t.equal(c.length, 16, \"chunks should be 16 bytes long\")\n    t.type(c, Buffer, \"chunks should be buffer objects\")\n    totalBytes += c.length\n  })\n  b.on(\"end\", function () {\n    var expectedBytes = stat.size + (16 - stat.size % 16)\n    t.equal(totalBytes, expectedBytes, \"Should be multiple of 16\")\n    t.end()\n  })\n\n})\n"]}