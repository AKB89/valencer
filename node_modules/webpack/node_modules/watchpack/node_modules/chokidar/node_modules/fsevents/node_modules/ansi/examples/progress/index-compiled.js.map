{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["#!/usr/bin/env node\n\nvar assert = require('assert')\n  , ansi = require('../../')\n\nfunction Progress (stream, width) {\n  this.cursor = ansi(stream)\n  this.delta = this.cursor.newlines\n  this.width = width | 0 || 10\n  this.open = '['\n  this.close = ']'\n  this.complete = 'â–ˆ'\n  this.incomplete = '_'\n\n  // initial render\n  this.progress = 0\n}\n\nObject.defineProperty(Progress.prototype, 'progress', {\n    get: get\n  , set: set\n  , configurable: true\n  , enumerable: true\n})\n\nfunction get () {\n  return this._progress\n}\n\nfunction set (v) {\n  this._progress = Math.max(0, Math.min(v, 100))\n\n  var w = this.width - this.complete.length - this.incomplete.length\n    , n = w * (this._progress / 100) | 0\n    , i = w - n\n    , com = c(this.complete, n)\n    , inc = c(this.incomplete, i)\n    , delta = this.cursor.newlines - this.delta\n\n  assert.equal(com.length + inc.length, w)\n\n  if (delta > 0) {\n    this.cursor.up(delta)\n    this.delta = this.cursor.newlines\n  }\n\n  this.cursor\n    .horizontalAbsolute(0)\n    .eraseLine(2)\n    .fg.white()\n    .write(this.open)\n    .fg.grey()\n    .bold()\n    .write(com)\n    .resetBold()\n    .write(inc)\n    .fg.white()\n    .write(this.close)\n    .fg.reset()\n    .write('\\n')\n}\n\nfunction c (char, length) {\n  return Array.apply(null, Array(length)).map(function () {\n    return char\n  }).join('')\n}\n\n\n\n\n// Usage\nvar width = parseInt(process.argv[2], 10) || process.stdout.getWindowSize()[0] / 2\n  , p = new Progress(process.stdout, width)\n\n;(function tick () {\n  p.progress += Math.random() * 5\n  p.cursor\n    .eraseLine(2)\n    .write('Progress: ')\n    .bold().write(p.progress.toFixed(2))\n    .write('%')\n    .resetBold()\n    .write('\\n')\n  if (p.progress < 100)\n    setTimeout(tick, 100)\n})()\n"]}