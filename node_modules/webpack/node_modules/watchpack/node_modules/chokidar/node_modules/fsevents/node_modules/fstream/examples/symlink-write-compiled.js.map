{"version":3,"sources":["symlink-write.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,QAAQ,eAAR,CAAd;AACA,IAAI,UAAU,KAAd;AACA,QAAQ,KAAR,CAAc,SAAd;;AAEA,QACG,MADH,CACU;AACN,QAAM,iBADA;AAEN,YAAU,QAFJ;AAGN,kBAAgB,IAHV;AAIN,QAAM,M;AAJA,CADV,EAOG,EAPH,CAOM,OAPN,EAOe,YAAY;AACvB,YAAU,IAAV;AACA,MAAI,KAAK,QAAQ,IAAR,CAAT;AACA,MAAI,IAAI,GAAG,SAAH,CAAa,iBAAb,CAAR;AACA,MAAI,QAAQ,EAAE,cAAF,EAAZ;AACA,UAAQ,GAAR,CAAY,CAAC,QAAQ,EAAR,GAAa,MAAd,IAAwB,wBAApC;AACA,MAAI,IAAI,GAAG,YAAH,CAAgB,iBAAhB,CAAR;AACA,MAAI,WAAW,MAAM,QAArB;AACA,UAAQ,GAAR,CAAY,CAAC,WAAW,EAAX,GAAgB,MAAjB,IAA2B,4BAAvC;AACD,CAhBH,EAiBG,GAjBH;;AAmBA,QAAQ,EAAR,CAAW,MAAX,EAAmB,YAAY;AAC7B,UAAQ,GAAR,CAAY,CAAC,UAAU,EAAV,GAAe,MAAhB,IAA0B,uBAAtC;AACA,UAAQ,GAAR,CAAY,MAAZ;AACD,CAHD","file":"symlink-write-compiled.js","sourcesContent":["var fstream = require('../fstream.js')\nvar notOpen = false\nprocess.chdir(__dirname)\n\nfstream\n  .Writer({\n    path: 'path/to/symlink',\n    linkpath: './file',\n    isSymbolicLink: true,\n    mode: '0755' // octal strings supported\n  })\n  .on('close', function () {\n    notOpen = true\n    var fs = require('fs')\n    var s = fs.lstatSync('path/to/symlink')\n    var isSym = s.isSymbolicLink()\n    console.log((isSym ? '' : 'not ') + 'ok 1 should be symlink')\n    var t = fs.readlinkSync('path/to/symlink')\n    var isTarget = t === './file'\n    console.log((isTarget ? '' : 'not ') + 'ok 2 should link to ./file')\n  })\n  .end()\n\nprocess.on('exit', function () {\n  console.log((notOpen ? '' : 'not ') + 'ok 3 should be closed')\n  console.log('1..3')\n})\n"]}