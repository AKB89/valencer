{"version":3,"sources":["log.js"],"names":[],"mappings":"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","file":"log-compiled.js","sourcesContent":["'use strict'\nvar Progress = require('are-we-there-yet')\nvar Gauge = require('gauge')\nvar EE = require('events').EventEmitter\nvar log = exports = module.exports = new EE\nvar util = require('util')\n\nvar ansi = require('ansi')\nlog.cursor = ansi(process.stderr)\nlog.stream = process.stderr\n\n// by default, let ansi decide based on tty-ness.\nvar colorEnabled = undefined\nlog.enableColor = function () {\n  colorEnabled = true\n  this.cursor.enabled = true\n}\nlog.disableColor = function () {\n  colorEnabled = false\n  this.cursor.enabled = false\n}\n\n// default level\nlog.level = 'info'\n\nlog.gauge = new Gauge(log.cursor)\nlog.tracker = new Progress.TrackerGroup()\n\n// no progress bars unless asked\nlog.progressEnabled = false\n\nvar gaugeTheme = undefined\n\nlog.enableUnicode = function () {\n  gaugeTheme = Gauge.unicode\n  log.gauge.setTheme(gaugeTheme)\n}\n\nlog.disableUnicode = function () {\n  gaugeTheme = Gauge.ascii\n  log.gauge.setTheme(gaugeTheme)\n}\n\nvar gaugeTemplate = undefined\nlog.setGaugeTemplate = function (template) {\n  gaugeTemplate = template\n  log.gauge.setTemplate(gaugeTemplate)\n}\n\nlog.enableProgress = function () {\n  if (this.progressEnabled) return\n  this.progressEnabled = true\n  if (this._pause) return\n  this.tracker.on('change', this.showProgress)\n  this.gauge.enable()\n  this.showProgress()\n}\n\nlog.disableProgress = function () {\n  if (!this.progressEnabled) return\n  this.clearProgress()\n  this.progressEnabled = false\n  this.tracker.removeListener('change', this.showProgress)\n  this.gauge.disable()\n}\n\nvar trackerConstructors = ['newGroup', 'newItem', 'newStream']\n\nvar mixinLog = function (tracker) {\n  // mixin the public methods from log into the tracker\n  // (except: conflicts and one's we handle specially)\n  Object.keys(log).forEach(function (P) {\n    if (P[0] === '_') return\n    if (trackerConstructors.filter(function (C) { return C === P }).length) return\n    if (tracker[P]) return\n    if (typeof log[P] !== 'function') return\n    var func = log[P]\n    tracker[P] = function () {\n      return func.apply(log, arguments)\n    }\n  })\n  // if the new tracker is a group, make sure any subtrackers get\n  // mixed in too\n  if (tracker instanceof Progress.TrackerGroup) {\n    trackerConstructors.forEach(function (C) {\n      var func = tracker[C]\n      tracker[C] = function () { return mixinLog(func.apply(tracker, arguments)) }\n    })\n  }\n  return tracker\n}\n\n// Add tracker constructors to the top level log object\ntrackerConstructors.forEach(function (C) {\n  log[C] = function () { return mixinLog(this.tracker[C].apply(this.tracker, arguments)) }\n})\n\nlog.clearProgress = function () {\n  if (!this.progressEnabled) return\n  this.gauge.hide()\n}\n\nlog.showProgress = function (name, completed) {\n  if (!this.progressEnabled) return\n  if (completed == null) completed = this.tracker.completed()\n  this.gauge.show(name, completed)\n}.bind(log) // bind for use in tracker's on-change listener\n\n// temporarily stop emitting, but don't drop\nlog.pause = function () {\n  this._paused = true\n}\n\nlog.resume = function () {\n  if (!this._paused) return\n  this._paused = false\n\n  var b = this._buffer\n  this._buffer = []\n  b.forEach(function (m) {\n    this.emitLog(m)\n  }, this)\n  if (this.progressEnabled) this.enableProgress()\n}\n\nlog._buffer = []\n\nvar id = 0\nlog.record = []\nlog.maxRecordSize = 10000\nlog.log = function (lvl, prefix, message) {\n  var l = this.levels[lvl]\n  if (l === undefined) {\n    return this.emit('error', new Error(util.format(\n      'Undefined log level: %j', lvl)))\n  }\n\n  var a = new Array(arguments.length - 2)\n  var stack = null\n  for (var i = 2; i < arguments.length; i ++) {\n    var arg = a[i-2] = arguments[i]\n\n    // resolve stack traces to a plain string.\n    if (typeof arg === 'object' && arg &&\n        (arg instanceof Error) && arg.stack) {\n      arg.stack = stack = arg.stack + ''\n    }\n  }\n  if (stack) a.unshift(stack + '\\n')\n  message = util.format.apply(util, a)\n\n  var m = { id: id++,\n            level: lvl,\n            prefix: String(prefix || ''),\n            message: message,\n            messageRaw: a }\n\n  this.emit('log', m)\n  this.emit('log.' + lvl, m)\n  if (m.prefix) this.emit(m.prefix, m)\n\n  this.record.push(m)\n  var mrs = this.maxRecordSize\n  var n = this.record.length - mrs\n  if (n > mrs / 10) {\n    var newSize = Math.floor(mrs * 0.9)\n    this.record = this.record.slice(-1 * newSize)\n  }\n\n  this.emitLog(m)\n}.bind(log)\n\nlog.emitLog = function (m) {\n  if (this._paused) {\n    this._buffer.push(m)\n    return\n  }\n  if (this.progressEnabled) this.gauge.pulse(m.prefix)\n  var l = this.levels[m.level]\n  if (l === undefined) return\n  if (l < this.levels[this.level]) return\n  if (l > 0 && !isFinite(l)) return\n\n  var style = log.style[m.level]\n  var disp = log.disp[m.level] || m.level\n  this.clearProgress()\n  m.message.split(/\\r?\\n/).forEach(function (line) {\n    if (this.heading) {\n      this.write(this.heading, this.headingStyle)\n      this.write(' ')\n    }\n    this.write(disp, log.style[m.level])\n    var p = m.prefix || ''\n    if (p) this.write(' ')\n    this.write(p, this.prefixStyle)\n    this.write(' ' + line + '\\n')\n  }, this)\n  this.showProgress()\n}\n\nlog.write = function (msg, style) {\n  if (!this.cursor) return\n  if (this.stream !== this.cursor.stream) {\n    this.cursor = ansi(this.stream, { enabled: colorEnabled })\n    var options = {}\n    if (gaugeTheme != null) options.theme = gaugeTheme\n    if (gaugeTemplate != null) options.template = gaugeTemplate\n    this.gauge = new Gauge(options, this.cursor)\n  }\n\n  style = style || {}\n  if (style.fg) this.cursor.fg[style.fg]()\n  if (style.bg) this.cursor.bg[style.bg]()\n  if (style.bold) this.cursor.bold()\n  if (style.underline) this.cursor.underline()\n  if (style.inverse) this.cursor.inverse()\n  if (style.beep) this.cursor.beep()\n  this.cursor.write(msg).reset()\n}\n\nlog.addLevel = function (lvl, n, style, disp) {\n  if (!disp) disp = lvl\n  this.levels[lvl] = n\n  this.style[lvl] = style\n  if (!this[lvl]) this[lvl] = function () {\n    var a = new Array(arguments.length + 1)\n    a[0] = lvl\n    for (var i = 0; i < arguments.length; i ++) {\n      a[i + 1] = arguments[i]\n    }\n    return this.log.apply(this, a)\n  }.bind(this)\n  this.disp[lvl] = disp\n}\n\nlog.prefixStyle = { fg: 'magenta' }\nlog.headingStyle = { fg: 'white', bg: 'black' }\n\nlog.style = {}\nlog.levels = {}\nlog.disp = {}\nlog.addLevel('silly', -Infinity, { inverse: true }, 'sill')\nlog.addLevel('verbose', 1000, { fg: 'blue', bg: 'black' }, 'verb')\nlog.addLevel('info', 2000, { fg: 'green' })\nlog.addLevel('http', 3000, { fg: 'green', bg: 'black' })\nlog.addLevel('warn', 4000, { fg: 'black', bg: 'yellow' }, 'WARN')\nlog.addLevel('error', 5000, { fg: 'red', bg: 'black' }, 'ERR!')\nlog.addLevel('silent', Infinity)\n\n// allow 'error' prefix\nlog.on('error', function(){})\n"]}